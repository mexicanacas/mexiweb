---
interface Concert {
  date: string;
  venue: string;
  location: string;
  ticketLink?: string;
  time?: string;
}

interface Props {
  concerts: Concert[];
  type: 'upcoming' | 'previous';
}

const { concerts, type } = Astro.props;
---

<div class="flex flex-col gap-6">
  {
    concerts.length === 0 ? (
      <p class="text-center italic text-gray-600">
        {type === 'upcoming'
          ? 'Ingen kommende konserter for øyeblikket.'
          : 'Ingen tidligere konserter å vise.'}
      </p>
    ) : (
      concerts.map((concert) => (
        <article class="hover:border-mexi-green rounded-lg border-2 border-gray-400 bg-white p-6 shadow-md transition-all hover:shadow-lg">
          <div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
            <div class="flex-1">
              <h3 class="mb-3 text-xl font-bold text-mexi-black">
                {concert.venue}
              </h3>
              <div class="flex flex-col gap-2 text-gray-800">
                <p class="flex items-center gap-2">
                  <i class="fas fa-calendar-alt text-mexi-green w-5" />
                  <span class="font-medium">{concert.date}</span>
                  {concert.time && (
                    <span class="ml-2 text-gray-600">• {concert.time}</span>
                  )}
                </p>
                <p class="flex items-center gap-2">
                  <i class="fas fa-map-marker-alt text-mexi-green w-5" />
                  <span class="font-medium">{concert.location}</span>
                </p>
              </div>
            </div>
            {concert.ticketLink && type === 'upcoming' && (
              <div>
                <a
                  href={concert.ticketLink}
                  target="_blank"
                  rel="noopener noreferrer"
                  class="hover:bg-mexi-green inline-block rounded-lg bg-mexi-black px-6 py-3 font-bold text-white shadow-md transition-all hover:scale-105"
                >
                  Kjøp billetter
                </a>
              </div>
            )}
          </div>
        </article>
      ))
    )
  }
</div>
