---
/**
 * Concert list component
 * Displays upcoming or previous concerts with consistent styling
 */
import { SkewButton } from './ui';

interface Concert {
	date: string;
	venue: string;
	location: string;
	ticketLink?: string;
	time?: string;
}

interface Props {
	concerts: Concert[];
	type: 'upcoming' | 'previous';
}

const { concerts, type } = Astro.props;
---

<div class="flex flex-col gap-4 md:gap-6">
	{
		concerts.length === 0 ? (
			<p class="text-mexi-white/50 py-8 text-center italic">
				{type === 'upcoming'
					? 'Ingen kommende konserter for øyeblikket.'
					: 'Ingen tidligere konserter å vise.'}
			</p>
		) : (
			concerts.map((concert, index) => (
				<article
					class:list={[
						'border-4 p-6 transition-all duration-300 hover:scale-[1.02] hover:rotate-0',
						type === 'upcoming'
							? 'bg-mexi-black border-mexi-white shadow-[6px_6px_0px_0px_#4bb655]'
							: 'bg-mexi-black/60 border-mexi-white/30',
						index % 2 === 0 ? 'rotate-1' : '-rotate-1'
					]}
				>
					<div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
						<div class="flex-1">
							<h3
								class:list={[
									'mb-2 text-xl font-bold uppercase md:text-2xl',
									type === 'upcoming' ? 'text-mexi-white' : 'text-mexi-white/70'
								]}
							>
								{concert.venue}
							</h3>
							<p
								class:list={[
									'text-sm md:text-base',
									type === 'upcoming' ? 'text-mexi-white/70' : 'text-mexi-white/50'
								]}
							>
								{concert.date}
								{concert.time && ` • ${concert.time}`} · {concert.location}
							</p>
						</div>
						{concert.ticketLink && type === 'upcoming' && (
							<SkewButton href={concert.ticketLink} target="_blank" size="md">
								Kjøp billetter
							</SkewButton>
						)}
					</div>
				</article>
			))
		)
	}
</div>
