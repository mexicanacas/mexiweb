"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_sanity_lib__chunks-es_index3_mjs"],{

/***/ "(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/pairwise.js":
/*!********************************************************************!*\
  !*** ./node_modules/rxjs/dist/esm5/internal/operators/pairwise.js ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pairwise: () => (/* binding */ pairwise)\n/* harmony export */ });\n/* harmony import */ var _util_lift__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/lift */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/util/lift.js\");\n/* harmony import */ var _OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./OperatorSubscriber */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/OperatorSubscriber.js\");\n\n\nfunction pairwise() {\n    return (0,_util_lift__WEBPACK_IMPORTED_MODULE_0__.operate)(function(source, subscriber) {\n        var prev;\n        var hasPrev = false;\n        source.subscribe((0,_OperatorSubscriber__WEBPACK_IMPORTED_MODULE_1__.createOperatorSubscriber)(subscriber, function(value) {\n            var p = prev;\n            prev = value;\n            hasPrev && subscriber.next([\n                p,\n                value\n            ]);\n            hasPrev = true;\n        }));\n    });\n} //# sourceMappingURL=pairwise.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvcGFpcndpc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ3VDO0FBQ3lCO0FBNkMxRCxTQUFVLFFBQVE7SUFDdEIsT0FBTyxtREFBTyxDQUFDLFNBQUMsTUFBTSxFQUFFLFVBQVU7UUFDaEMsSUFBSSxJQUFPLENBQUM7UUFDWixJQUFJLE9BQU8sR0FBRyxLQUFLLENBQUM7UUFDcEIsTUFBTSxDQUFDLFNBQVMsQ0FDZCw2RUFBd0IsQ0FBQyxVQUFVLEVBQUUsU0FBQyxLQUFLO1lBQ3pDLElBQU0sQ0FBQyxHQUFHLElBQUksQ0FBQztZQUNmLElBQUksR0FBRyxLQUFLLENBQUM7WUFDYixPQUFPLElBQUksVUFBVSxDQUFDLElBQUksQ0FBQztnQkFBQyxDQUFDO2dCQUFFLEtBQUs7YUFBQyxDQUFDLENBQUM7WUFDdkMsT0FBTyxHQUFHLElBQUksQ0FBQztRQUNqQixDQUFDLENBQUMsQ0FDSCxDQUFDO0lBQ0osQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDIiwic291cmNlcyI6WyIvVXNlcnMvc3JjL2ludGVybmFsL29wZXJhdG9ycy9wYWlyd2lzZS50cyJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/pairwise.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/sanity/lib/_chunks-es/index3.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/sanity/lib/_chunks-es/index3.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ StructureToolBoundary)\n/* harmony export */ });\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-compiler-runtime */ \"(app-pages-browser)/./node_modules/react-compiler-runtime/dist/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var sanity__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! sanity */ \"(app-pages-browser)/./node_modules/sanity/lib/index.mjs\");\n/* harmony import */ var _generate_help_url_esm_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./generate-help-url.esm.mjs */ \"(app-pages-browser)/./node_modules/sanity/lib/_chunks-es/generate-help-url.esm.mjs\");\n/* harmony import */ var _pane_mjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./pane.mjs */ \"(app-pages-browser)/./node_modules/sanity/lib/_chunks-es/pane.mjs\");\n/* harmony import */ var _StructureToolProvider_mjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./StructureToolProvider.mjs */ \"(app-pages-browser)/./node_modules/sanity/lib/_chunks-es/StructureToolProvider.mjs\");\n/* harmony import */ var sanity_router__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! sanity/router */ \"(app-pages-browser)/./node_modules/sanity/lib/router.mjs\");\n/* harmony import */ var lodash_omit_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lodash/omit.js */ \"(app-pages-browser)/./node_modules/lodash/omit.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/util/isObservable.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/observable/from.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/observable/of.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/firstValueFrom.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/observable/concat.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/observable/never.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! rxjs */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/ReplaySubject.js\");\n/* harmony import */ var nanoid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! nanoid */ \"(app-pages-browser)/./node_modules/nanoid/index.browser.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/publishReplay.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/refCount.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs/operators */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/switchMap.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! rxjs/operators */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! rxjs/operators */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/startWith.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! rxjs/operators */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/pairwise.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! rxjs/operators */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/scan.js\");\n/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! rxjs/operators */ \"(app-pages-browser)/./node_modules/rxjs/dist/esm5/internal/operators/distinctUntilChanged.js\");\n/* harmony import */ var _sanity_uuid__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @sanity/uuid */ \"(app-pages-browser)/./node_modules/@sanity/uuid/node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var _sanity_icons__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @sanity/icons */ \"(app-pages-browser)/./node_modules/@sanity/icons/dist/index.js\");\n/* harmony import */ var _sanity_ui__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @sanity/ui */ \"(app-pages-browser)/./node_modules/@sanity/ui/dist/_chunks-es/_visual-editing.mjs\");\n/* harmony import */ var _sanity_ui__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @sanity/ui */ \"(app-pages-browser)/./node_modules/@sanity/ui/dist/index.mjs\");\n/* harmony import */ var styled_components__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! styled-components */ \"(app-pages-browser)/./node_modules/styled-components/dist/styled-components.browser.esm.js\");\n/* harmony import */ var is_hotkey_esm__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! is-hotkey-esm */ \"(app-pages-browser)/./node_modules/is-hotkey-esm/dist/index.js\");\n/* harmony import */ var lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/isEqual.js */ \"(app-pages-browser)/./node_modules/lodash/isEqual.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nclass PaneResolutionError extends Error {\n  constructor({\n    message,\n    context,\n    helpId,\n    cause\n  }) {\n    super(message), this.name = \"PaneResolutionError\", this.context = context, this.helpId = helpId, this.cause = cause;\n  }\n}\nconst randomIdCache = /* @__PURE__ */ new WeakMap();\nfunction assignId(obj) {\n  const cachedValue = randomIdCache.get(obj);\n  if (cachedValue) return cachedValue;\n  const id = (0,nanoid__WEBPACK_IMPORTED_MODULE_5__.nanoid)();\n  return randomIdCache.set(obj, id), id;\n}\nconst isPromise = (thing) => !!thing && typeof thing?.then == \"function\", isSerializable = (thing) => (0,sanity__WEBPACK_IMPORTED_MODULE_6__.isRecord)(thing) ? typeof thing.serialize == \"function\" : !1, rethrowWithPaneResolutionErrors = (next) => (unresolvedPane, context, flatIndex) => {\n  try {\n    return next(unresolvedPane, context, flatIndex);\n  } catch (e) {\n    throw e instanceof PaneResolutionError ? e : new PaneResolutionError({\n      message: typeof e?.message == \"string\" ? e.message : \"\",\n      context,\n      cause: e\n    });\n  }\n}, wrapWithPublishReplay = (next) => (...args) => next(...args).pipe(\n  // need to add publishReplay + refCount to ensure new subscribers always\n  // get an emission. without this, memoized observables may get stuck\n  // waiting for their first emissions resulting in a loading pane\n  (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.publishReplay)(1),\n  (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.refCount)()\n);\nfunction createPaneResolver(middleware) {\n  const resolvePane = rethrowWithPaneResolutionErrors(wrapWithPublishReplay(middleware((unresolvedPane, context, flatIndex) => {\n    if (!unresolvedPane)\n      throw new PaneResolutionError({\n        message: \"Pane returned no child\",\n        context,\n        helpId: \"structure-item-returned-no-child\"\n      });\n    return isPromise(unresolvedPane) || (0,rxjs__WEBPACK_IMPORTED_MODULE_9__.isObservable)(unresolvedPane) ? (0,rxjs__WEBPACK_IMPORTED_MODULE_10__.from)(unresolvedPane).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.switchMap)((result) => resolvePane(result, context, flatIndex))) : isSerializable(unresolvedPane) ? resolvePane(unresolvedPane.serialize(context), context, flatIndex) : typeof unresolvedPane == \"function\" ? resolvePane(unresolvedPane(context.id, context), context, flatIndex) : (0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)(unresolvedPane);\n  })));\n  return resolvePane;\n}\nconst bindCache = /* @__PURE__ */ new WeakMap();\nfunction memoBind(obj, methodKey) {\n  const boundMethods = bindCache.get(obj) || /* @__PURE__ */ new Map();\n  if (boundMethods) {\n    const bound2 = boundMethods.get(methodKey);\n    if (bound2) return bound2;\n  }\n  const method = obj[methodKey];\n  if (typeof method != \"function\")\n    throw new Error(`Expected property \\`${methodKey}\\` to be a function but got ${typeof method} instead.`);\n  const bound = method.bind(obj);\n  return boundMethods.set(methodKey, bound), bindCache.set(obj, boundMethods), bound;\n}\nasync function resolveIntent(options) {\n  const resolvedPaneCache = /* @__PURE__ */ new Map(), resolvePane = createPaneResolver((nextFn) => (unresolvedPane, context, flatIndex) => {\n    const key = unresolvedPane && `${assignId(unresolvedPane)}-${context.path.join(\"__\")}`, cachedResolvedPane = key && resolvedPaneCache.get(key);\n    if (cachedResolvedPane) return cachedResolvedPane;\n    const result = nextFn(unresolvedPane, context, flatIndex);\n    return key && resolvedPaneCache.set(key, result), result;\n  }), fallbackEditorPanes = [[{\n    id: `__edit__${options.params.id}`,\n    params: {\n      ...lodash_omit_js__WEBPACK_IMPORTED_MODULE_3__(options.params, [\"id\"]),\n      type: options.params.type\n    },\n    payload: options.payload\n  }]];\n  async function traverse({\n    currentId,\n    flatIndex,\n    intent,\n    params,\n    parent: parent2,\n    path,\n    payload,\n    unresolvedPane,\n    levelIndex,\n    structureContext\n  }) {\n    if (!unresolvedPane) return [];\n    const {\n      id: targetId,\n      type: schemaTypeName,\n      ...otherParams\n    } = params, resolvedPane = await (0,rxjs__WEBPACK_IMPORTED_MODULE_13__.firstValueFrom)(resolvePane(unresolvedPane, {\n      id: currentId,\n      splitIndex: 0,\n      parent: parent2,\n      path,\n      index: flatIndex,\n      params: {},\n      payload: void 0,\n      structureContext\n    }, flatIndex));\n    return resolvedPane.type === \"document\" && resolvedPane.id === targetId ? [{\n      panes: [...path.slice(0, path.length - 1).map((i) => [{\n        id: i\n      }]), [{\n        id: targetId,\n        params: otherParams,\n        payload\n      }]],\n      depthIndex: path.length,\n      levelIndex\n    }] : (\n      // if the resolve pane's `canHandleIntent` returns true, then resolve\n      resolvedPane.canHandleIntent?.(intent, params, {\n        pane: resolvedPane,\n        index: flatIndex\n      }) || // if the pane's `canHandleIntent` did not return true, then match against\n      // this default case. we will resolve the intent if:\n      resolvedPane.type === \"documentList\" && // 1. the schema type matches (this required for the document to render)\n      resolvedPane.schemaTypeName === schemaTypeName && // 2. the filter is the default filter.\n      //\n      // NOTE: this case is to prevent false positive matches where the user\n      // has configured a more specific filter for a particular type. In that\n      // case, the user can implement their own `canHandleIntent` function\n      resolvedPane.options.filter === \"_type == $type\" ? [{\n        panes: [\n          // map the current path to router panes\n          ...path.map((id) => [{\n            id\n          }]),\n          // then augment with the intents IDs and params\n          [{\n            id: params.id,\n            params: otherParams,\n            payload\n          }]\n        ],\n        depthIndex: path.length,\n        levelIndex\n      }] : resolvedPane.type === \"list\" && resolvedPane.child && resolvedPane.items ? (await Promise.all(resolvedPane.items.map((item, nextLevelIndex) => item.type === \"divider\" ? Promise.resolve([]) : traverse({\n        currentId: item._id || item.id,\n        flatIndex: flatIndex + 1,\n        intent,\n        params,\n        parent: resolvedPane,\n        path: [...path, item.id],\n        payload,\n        unresolvedPane: typeof resolvedPane.child == \"function\" ? memoBind(resolvedPane, \"child\") : resolvedPane.child,\n        levelIndex: nextLevelIndex,\n        structureContext\n      })))).flat() : []\n    );\n  }\n  const closestPaneToRoot = (await traverse({\n    currentId: \"root\",\n    flatIndex: 0,\n    levelIndex: 0,\n    intent: options.intent,\n    params: options.params,\n    parent: null,\n    path: [],\n    payload: options.payload,\n    unresolvedPane: options.rootPaneNode,\n    structureContext: options.structureContext\n  })).sort((a, b) => a.depthIndex === b.depthIndex ? a.levelIndex - b.levelIndex : a.depthIndex - b.depthIndex)[0];\n  return closestPaneToRoot ? closestPaneToRoot.panes : fallbackEditorPanes;\n}\nconst fallbackEditorChild = (nodeId, context) => {\n  const id = nodeId.replace(/^__edit__/, \"\"), {\n    params,\n    payload,\n    structureContext: {\n      resolveDocumentNode\n    }\n  } = context, {\n    type,\n    template\n  } = params;\n  if (!type)\n    throw new Error(`Document type for document with ID ${id} was not provided in the router params.`);\n  let defaultDocumentBuilder = resolveDocumentNode({\n    schemaType: type,\n    documentId: id\n  }).id(\"editor\");\n  return template && (defaultDocumentBuilder = defaultDocumentBuilder.initialValueTemplate(template, payload)), defaultDocumentBuilder.serialize();\n};\nfunction hashContext(context) {\n  return `contextHash(${JSON.stringify({\n    id: context.id,\n    parentId: parent && assignId(parent),\n    path: context.path,\n    index: context.index,\n    splitIndex: context.splitIndex,\n    serializeOptionsIndex: context.serializeOptions?.index,\n    serializeOptionsPath: context.serializeOptions?.path\n  })})`;\n}\nconst hashResolvedPaneMeta = (meta) => {\n  const normalized = {\n    type: meta.type,\n    id: meta.routerPaneSibling.id,\n    params: meta.routerPaneSibling.params || {},\n    payload: meta.routerPaneSibling.payload || null,\n    flatIndex: meta.flatIndex,\n    groupIndex: meta.groupIndex,\n    siblingIndex: meta.siblingIndex,\n    path: meta.path,\n    paneNode: meta.type === \"resolvedMeta\" ? assignId(meta.paneNode) : null\n  };\n  return `metaHash(${JSON.stringify(normalized)})`;\n};\nfunction resolvePaneTree({\n  unresolvedPane,\n  flattenedRouterPanes,\n  parent: parent2,\n  path,\n  resolvePane,\n  structureContext\n}) {\n  const [current, ...rest] = flattenedRouterPanes, next = rest[0], context = {\n    id: current.routerPaneSibling.id,\n    splitIndex: current.siblingIndex,\n    parent: parent2,\n    path: [...path, current.routerPaneSibling.id],\n    index: current.flatIndex,\n    params: current.routerPaneSibling.params || {},\n    payload: current.routerPaneSibling.payload,\n    structureContext\n  };\n  try {\n    return resolvePane(unresolvedPane, context, current.flatIndex).pipe(\n      // this switch map receives a resolved pane\n      (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.switchMap)((paneNode) => {\n        const resolvedPaneMeta = {\n          type: \"resolvedMeta\",\n          ...current,\n          paneNode,\n          path: context.path\n        }, loadingPanes = rest.map((i, restIndex) => ({\n          type: \"loading\",\n          path: [...context.path, ...rest.slice(restIndex).map((_, currentIndex) => `[${i.flatIndex + currentIndex}]`)],\n          paneNode: null,\n          ...i\n        }));\n        if (!rest.length)\n          return (0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)([resolvedPaneMeta]);\n        let nextStream;\n        return (\n          /* the fallback editor case */\n          next?.routerPaneSibling.id.startsWith(\"__edit__\") ? nextStream = resolvePaneTree({\n            unresolvedPane: fallbackEditorChild,\n            flattenedRouterPanes: rest,\n            parent: parent2,\n            path: context.path,\n            resolvePane,\n            structureContext\n          }) : current.groupIndex === next?.groupIndex ? nextStream = resolvePaneTree({\n            unresolvedPane,\n            flattenedRouterPanes: rest,\n            parent: parent2,\n            path,\n            resolvePane,\n            structureContext\n          }) : nextStream = resolvePaneTree({\n            unresolvedPane: typeof paneNode.child == \"function\" ? memoBind(paneNode, \"child\") : paneNode.child,\n            flattenedRouterPanes: rest,\n            parent: paneNode,\n            path: context.path,\n            resolvePane,\n            structureContext\n          }), (0,rxjs__WEBPACK_IMPORTED_MODULE_14__.concat)(\n            // we emit the loading panes first in a concat (this emits immediately)\n            (0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)([resolvedPaneMeta, ...loadingPanes]),\n            // then whenever the next stream is done, the results will be combined.\n            nextStream.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.map)((nextResolvedPanes) => [resolvedPaneMeta, ...nextResolvedPanes]))\n          )\n        );\n      })\n    );\n  } catch (e) {\n    if (e instanceof PaneResolutionError && (e.context && console.warn(`Pane resolution error at index ${e.context.index}${e.context.splitIndex > 0 ? ` for split pane index ${e.context.splitIndex}` : \"\"}: ${e.message}${e.helpId ? ` - see ${(0,_generate_help_url_esm_mjs__WEBPACK_IMPORTED_MODULE_16__.generateHelpUrl)(e.helpId)}` : \"\"}`, e), e.helpId === \"structure-item-returned-no-child\"))\n      return (0,rxjs__WEBPACK_IMPORTED_MODULE_12__.of)([]);\n    throw e;\n  }\n}\nfunction createResolvedPaneNodeStream({\n  routerPanesStream,\n  rootPaneNode,\n  initialCacheState = {\n    cacheKeysByFlatIndex: [],\n    flattenedRouterPanes: [],\n    resolvedPaneCache: /* @__PURE__ */ new Map(),\n    resolvePane: () => rxjs__WEBPACK_IMPORTED_MODULE_17__.NEVER\n  },\n  structureContext\n}) {\n  return routerPanesStream.pipe(\n    // add in implicit \"root\" router pane\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.map)((rawRouterPanes) => [[{\n      id: \"root\"\n    }], ...rawRouterPanes]),\n    // create flattened router panes\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.map)((routerPanes) => routerPanes.flatMap((routerPaneGroup, groupIndex) => routerPaneGroup.map((routerPaneSibling, siblingIndex) => ({\n      routerPaneSibling,\n      groupIndex,\n      siblingIndex\n    }))).map((i, index) => ({\n      ...i,\n      flatIndex: index\n    }))),\n    // calculate a \"diffIndex\" used for clearing the memo cache\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_18__.startWith)([]),\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_19__.pairwise)(),\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.map)(([prev, curr]) => {\n      for (let i = 0; i < curr.length; i++) {\n        const prevValue = prev[i], currValue = curr[i];\n        if (!lodash_isEqual_js__WEBPACK_IMPORTED_MODULE_4__(prevValue, currValue))\n          return {\n            flattenedRouterPanes: curr,\n            diffIndex: i\n          };\n      }\n      return {\n        flattenedRouterPanes: curr,\n        diffIndex: curr.length\n      };\n    }),\n    // create the memoized `resolvePane` function and manage the memo cache\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.scan)((acc, next) => {\n      const {\n        cacheKeysByFlatIndex,\n        resolvedPaneCache\n      } = acc, {\n        flattenedRouterPanes,\n        diffIndex\n      } = next, beforeDiffIndex = cacheKeysByFlatIndex.slice(0, diffIndex + 1), afterDiffIndex = cacheKeysByFlatIndex.slice(diffIndex + 1), keysToKeep = new Set(beforeDiffIndex.flatMap((keySet) => Array.from(keySet))), keysToDelete = afterDiffIndex.flatMap((keySet) => Array.from(keySet)).filter((key) => !keysToKeep.has(key));\n      for (const key of keysToDelete)\n        resolvedPaneCache.delete(key);\n      return {\n        flattenedRouterPanes,\n        cacheKeysByFlatIndex,\n        resolvedPaneCache,\n        resolvePane: createPaneResolver((nextFn) => (unresolvedPane, context, flatIndex) => {\n          const key = unresolvedPane && `${assignId(unresolvedPane)}-${hashContext(context)}`, cachedResolvedPane = key && resolvedPaneCache.get(key);\n          if (cachedResolvedPane) return cachedResolvedPane;\n          const result = nextFn(unresolvedPane, context, flatIndex);\n          if (!key) return result;\n          const cacheKeySet = cacheKeysByFlatIndex[flatIndex] || /* @__PURE__ */ new Set();\n          return cacheKeySet.add(key), cacheKeysByFlatIndex[flatIndex] = cacheKeySet, resolvedPaneCache.set(key, result), result;\n        })\n      };\n    }, initialCacheState),\n    // run the memoized, recursive resolving\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_11__.switchMap)(({\n      flattenedRouterPanes,\n      resolvePane\n    }) => resolvePaneTree({\n      unresolvedPane: rootPaneNode,\n      flattenedRouterPanes,\n      parent: null,\n      path: [],\n      resolvePane,\n      structureContext\n    }))\n  ).pipe(\n    // this diffs the previous emission with the current one. if there is a new\n    // loading pane at the same position where a previous pane already had a\n    // resolved value (looking at the IDs to compare), then return the previous\n    // pane instead of the loading pane\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.scan)((prev, next) => next.map((nextPane, index) => {\n      const prevPane = prev[index];\n      return !prevPane || nextPane.type !== \"loading\" ? nextPane : prevPane.routerPaneSibling.id === nextPane.routerPaneSibling.id ? prevPane : nextPane;\n    }), []),\n    // this prevents duplicate emissions\n    (0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.distinctUntilChanged)((prev, next) => {\n      if (prev.length !== next.length) return !1;\n      for (let i = 0; i < next.length; i++) {\n        const prevValue = prev[i], nextValue = next[i];\n        if (hashResolvedPaneMeta(prevValue) !== hashResolvedPaneMeta(nextValue))\n          return !1;\n      }\n      return !0;\n    })\n  );\n}\nfunction useRouterPanesStream() {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(6), [routerStateSubject] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(_temp$5);\n  let t0;\n  $[0] !== routerStateSubject ? (t0 = routerStateSubject.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.map)(_temp2$3)), $[0] = routerStateSubject, $[1] = t0) : t0 = $[1];\n  const routerPanes$ = t0, {\n    state: routerState\n  } = (0,sanity_router__WEBPACK_IMPORTED_MODULE_22__.useRouter)();\n  let t1, t2;\n  return $[2] !== routerState || $[3] !== routerStateSubject ? (t1 = () => {\n    routerStateSubject.next(routerState);\n  }, t2 = [routerState, routerStateSubject], $[2] = routerState, $[3] = routerStateSubject, $[4] = t1, $[5] = t2) : (t1 = $[4], t2 = $[5]), (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t1, t2), routerPanes$;\n}\nfunction _temp2$3(_routerState) {\n  return _routerState?.panes || [];\n}\nfunction _temp$5() {\n  return new rxjs__WEBPACK_IMPORTED_MODULE_23__.ReplaySubject(1);\n}\nfunction useResolvedPanes() {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(6), [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)();\n  if (error)\n    throw error;\n  const {\n    structureContext,\n    rootPaneNode\n  } = (0,_pane_mjs__WEBPACK_IMPORTED_MODULE_24__.useStructureTool)();\n  let t0;\n  $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t0 = {\n    paneDataItems: [],\n    resolvedPanes: [],\n    routerPanes: []\n  }, $[0] = t0) : t0 = $[0];\n  const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(t0), routerPanesStream = useRouterPanesStream();\n  let t1, t2;\n  return $[1] !== rootPaneNode || $[2] !== routerPanesStream || $[3] !== structureContext ? (t1 = () => {\n    const subscription = createResolvedPaneNodeStream({\n      rootPaneNode,\n      routerPanesStream,\n      structureContext\n    }).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_15__.map)(_temp5)).subscribe({\n      next: (result) => setData(result),\n      error: (e) => setError(e)\n    });\n    return () => subscription.unsubscribe();\n  }, t2 = [rootPaneNode, routerPanesStream, structureContext], $[1] = rootPaneNode, $[2] = routerPanesStream, $[3] = structureContext, $[4] = t1, $[5] = t2) : (t1 = $[4], t2 = $[5]), (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t1, t2), data;\n}\nfunction _temp5(resolvedPanes) {\n  const routerPanes = resolvedPanes.reduce(_temp3, []), groupsLen = routerPanes.length, paneDataItems = resolvedPanes.map((pane) => {\n    const {\n      groupIndex,\n      flatIndex,\n      siblingIndex,\n      routerPaneSibling,\n      path\n    } = pane, itemId = routerPaneSibling.id, nextGroup = routerPanes[groupIndex + 1];\n    return {\n      active: groupIndex === groupsLen - 2,\n      childItemId: nextGroup?.[0].id ?? null,\n      index: flatIndex,\n      itemId: routerPaneSibling.id,\n      groupIndex,\n      key: `${pane.type === \"loading\" ? \"unknown\" : pane.paneNode.id}-${itemId}-${siblingIndex}`,\n      pane: pane.type === \"loading\" ? _pane_mjs__WEBPACK_IMPORTED_MODULE_24__.LOADING_PANE : pane.paneNode,\n      params: routerPaneSibling.params || {},\n      path: path.join(\";\"),\n      payload: routerPaneSibling.payload,\n      selected: flatIndex === resolvedPanes.length - 1,\n      siblingIndex\n    };\n  });\n  return {\n    paneDataItems,\n    routerPanes,\n    resolvedPanes: paneDataItems.map(_temp4)\n  };\n}\nfunction _temp4(pane_0) {\n  return pane_0.pane;\n}\nfunction _temp3(acc, next) {\n  const currentGroup = acc[next.groupIndex] || [];\n  return currentGroup[next.siblingIndex] = next.routerPaneSibling, acc[next.groupIndex] = currentGroup, acc;\n}\nasync function ensureDocumentIdAndType(documentStore, id, type) {\n  if (id && type) return {\n    id,\n    type\n  };\n  if (!id && type) return {\n    id: (0,_sanity_uuid__WEBPACK_IMPORTED_MODULE_25__[\"default\"])(),\n    type\n  };\n  if (id && !type) {\n    const resolvedType = await (0,rxjs__WEBPACK_IMPORTED_MODULE_13__.firstValueFrom)(documentStore.resolveTypeForDocument(id));\n    return {\n      id,\n      type: resolvedType\n    };\n  }\n  throw new PaneResolutionError({\n    message: \"Neither document `id` or `type` was provided when trying to resolve intent.\"\n  });\n}\nconst EMPTY_RECORD = {}, IntentResolver = (0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(function() {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(7), {\n    navigate\n  } = (0,sanity_router__WEBPACK_IMPORTED_MODULE_22__.useRouter)(), maybeIntent = (0,sanity_router__WEBPACK_IMPORTED_MODULE_22__.useRouterState)(_temp$4), {\n    rootPaneNode,\n    structureContext\n  } = (0,_pane_mjs__WEBPACK_IMPORTED_MODULE_24__.useStructureTool)(), documentStore = (0,sanity__WEBPACK_IMPORTED_MODULE_6__.useDocumentStore)(), [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n  if (error)\n    throw error;\n  let t0, t1;\n  return $[0] !== documentStore || $[1] !== maybeIntent || $[2] !== navigate || $[3] !== rootPaneNode || $[4] !== structureContext ? (t0 = () => {\n    if (maybeIntent) {\n      const {\n        intent,\n        params,\n        payload\n      } = maybeIntent;\n      let cancelled = !1;\n      return (async function() {\n        const {\n          id,\n          type\n        } = await ensureDocumentIdAndType(documentStore, typeof params.id == \"string\" ? params.id : void 0, typeof params.type == \"string\" ? params.type : void 0);\n        if (cancelled)\n          return;\n        const panes = await resolveIntent({\n          intent,\n          params: {\n            ...params,\n            id,\n            type\n          },\n          payload,\n          rootPaneNode,\n          structureContext\n        });\n        cancelled || navigate({\n          panes\n        }, {\n          replace: !0\n        });\n      })().catch(setError), () => {\n        cancelled = !0;\n      };\n    }\n  }, t1 = [documentStore, maybeIntent, navigate, rootPaneNode, structureContext], $[0] = documentStore, $[1] = maybeIntent, $[2] = navigate, $[3] = rootPaneNode, $[4] = structureContext, $[5] = t0, $[6] = t1) : (t0 = $[5], t1 = $[6]), (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t0, t1), null;\n});\nfunction _temp$4(routerState) {\n  const intentName = typeof routerState.intent == \"string\" ? routerState.intent : void 0;\n  return intentName ? {\n    intent: intentName,\n    params: (0,sanity__WEBPACK_IMPORTED_MODULE_6__.isRecord)(routerState.params) ? routerState.params : EMPTY_RECORD,\n    payload: routerState.payload\n  } : void 0;\n}\nconst PathSegment = styled_components__WEBPACK_IMPORTED_MODULE_26__.styled.span`\n  &:not(:last-child)::after {\n    content: ' âž ';\n    opacity: 0.5;\n  }\n`;\nfunction formatStack(stack) {\n  return stack.replace(/\\(\\.\\.\\.\\)\\./g, `(...)\n  .`).replace(/__WEBPACK_IMPORTED_MODULE_\\d+_+/g, \"\").replace(/___default\\./g, \".\").replace(new RegExp(` \\\\(https?:\\\\/\\\\/${window.location.host}`, \"g\"), \" (\");\n}\nfunction StructureError(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(74), {\n    error\n  } = t0;\n  if (!(error instanceof PaneResolutionError))\n    throw error;\n  const {\n    cause\n  } = error, {\n    t\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_6__.useTranslation)(_StructureToolProvider_mjs__WEBPACK_IMPORTED_MODULE_27__.structureLocaleNamespace), stack = cause?.stack || error.stack;\n  let t1;\n  $[0] !== cause || $[1] !== error.message || $[2] !== stack ? (t1 = stack && !(cause instanceof _StructureToolProvider_mjs__WEBPACK_IMPORTED_MODULE_27__.SerializeError) && !error.message.includes(\"Module build failed:\"), $[0] = cause, $[1] = error.message, $[2] = stack, $[3] = t1) : t1 = $[3];\n  const showStack = t1;\n  let T0, T1, T2, handleReload, helpId, t10, t11, t12, t13, t14, t2, t3, t4, t5, t6, t7, t8, t9;\n  if ($[4] !== cause || $[5] !== error.helpId || $[6] !== t) {\n    const path = cause instanceof _StructureToolProvider_mjs__WEBPACK_IMPORTED_MODULE_27__.SerializeError ? cause.path : [];\n    helpId = cause instanceof _StructureToolProvider_mjs__WEBPACK_IMPORTED_MODULE_27__.SerializeError && cause.helpId || error.helpId, handleReload = _temp$3, T2 = _sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Card, t10 = \"fill\", t11 = \"auto\", t12 = 4, t13 = \"border\", t14 = \"critical\", T1 = _sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Container;\n    let t152;\n    $[25] !== t ? (t152 = t(\"structure-error.header.text\"), $[25] = t, $[26] = t152) : t152 = $[26], $[27] !== t152 ? (t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Heading, { as: \"h2\", children: t152 }), $[27] = t152, $[28] = t9) : t9 = $[28], T0 = _sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Card, t2 = 4, t3 = 4, t4 = 2, t5 = \"auto\", t6 = 1, t7 = \"inherit\", t8 = path.length > 0 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Stack, { space: 2, children: [\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Text, { size: 1, weight: \"medium\", children: t(\"structure-error.structure-path.label\") }),\n      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Code, { children: path.slice(1).map(_temp2$2) })\n    ] }), $[4] = cause, $[5] = error.helpId, $[6] = t, $[7] = T0, $[8] = T1, $[9] = T2, $[10] = handleReload, $[11] = helpId, $[12] = t10, $[13] = t11, $[14] = t12, $[15] = t13, $[16] = t14, $[17] = t2, $[18] = t3, $[19] = t4, $[20] = t5, $[21] = t6, $[22] = t7, $[23] = t8, $[24] = t9;\n  } else\n    T0 = $[7], T1 = $[8], T2 = $[9], handleReload = $[10], helpId = $[11], t10 = $[12], t11 = $[13], t12 = $[14], t13 = $[15], t14 = $[16], t2 = $[17], t3 = $[18], t4 = $[19], t5 = $[20], t6 = $[21], t7 = $[22], t8 = $[23], t9 = $[24];\n  let t15;\n  $[29] !== t ? (t15 = t(\"structure-error.error.label\"), $[29] = t, $[30] = t15) : t15 = $[30];\n  let t16;\n  $[31] !== t15 ? (t16 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Text, { size: 1, weight: \"medium\", children: t15 }), $[31] = t15, $[32] = t16) : t16 = $[32];\n  let t17;\n  $[33] !== error.message || $[34] !== showStack || $[35] !== stack ? (t17 = showStack ? formatStack(stack) : error.message, $[33] = error.message, $[34] = showStack, $[35] = stack, $[36] = t17) : t17 = $[36];\n  let t18;\n  $[37] !== t17 ? (t18 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Code, { children: t17 }), $[37] = t17, $[38] = t18) : t18 = $[38];\n  let t19;\n  $[39] !== t16 || $[40] !== t18 ? (t19 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Stack, { marginTop: 4, space: 2, children: [\n    t16,\n    t18\n  ] }), $[39] = t16, $[40] = t18, $[41] = t19) : t19 = $[41];\n  let t20;\n  $[42] !== helpId || $[43] !== t ? (t20 = helpId && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Box, { marginTop: 4, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Text, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"a\", { href: (0,_generate_help_url_esm_mjs__WEBPACK_IMPORTED_MODULE_16__.generateHelpUrl)(helpId), rel: \"noopener noreferrer\", target: \"_blank\", children: t(\"structure-error.docs-link.text\") }) }) }), $[42] = helpId, $[43] = t, $[44] = t20) : t20 = $[44];\n  let t21;\n  $[45] !== t ? (t21 = t(\"structure-error.reload-button.text\"), $[45] = t, $[46] = t21) : t21 = $[46];\n  let t22;\n  $[47] !== handleReload || $[48] !== t21 ? (t22 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Box, { marginTop: 4, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_generate_help_url_esm_mjs__WEBPACK_IMPORTED_MODULE_16__.Button, { text: t21, icon: _sanity_icons__WEBPACK_IMPORTED_MODULE_29__.SyncIcon, tone: \"primary\", onClick: handleReload }) }), $[47] = handleReload, $[48] = t21, $[49] = t22) : t22 = $[49];\n  let t23;\n  $[50] !== T0 || $[51] !== t19 || $[52] !== t2 || $[53] !== t20 || $[54] !== t22 || $[55] !== t3 || $[56] !== t4 || $[57] !== t5 || $[58] !== t6 || $[59] !== t7 || $[60] !== t8 ? (t23 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(T0, { marginTop: t2, padding: t3, radius: t4, overflow: t5, shadow: t6, tone: t7, children: [\n    t8,\n    t19,\n    t20,\n    t22\n  ] }), $[50] = T0, $[51] = t19, $[52] = t2, $[53] = t20, $[54] = t22, $[55] = t3, $[56] = t4, $[57] = t5, $[58] = t6, $[59] = t7, $[60] = t8, $[61] = t23) : t23 = $[61];\n  let t24;\n  $[62] !== T1 || $[63] !== t23 || $[64] !== t9 ? (t24 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(T1, { children: [\n    t9,\n    t23\n  ] }), $[62] = T1, $[63] = t23, $[64] = t9, $[65] = t24) : t24 = $[65];\n  let t25;\n  return $[66] !== T2 || $[67] !== t10 || $[68] !== t11 || $[69] !== t12 || $[70] !== t13 || $[71] !== t14 || $[72] !== t24 ? (t25 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(T2, { height: t10, overflow: t11, padding: t12, sizing: t13, tone: t14, children: t24 }), $[66] = T2, $[67] = t10, $[68] = t11, $[69] = t12, $[70] = t13, $[71] = t14, $[72] = t24, $[73] = t25) : t25 = $[73], t25;\n}\nfunction _temp2$2(segment, i) {\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PathSegment, { children: segment }, `${segment}-${i}`);\n}\nfunction _temp$3() {\n  window.location.reload();\n}\nfunction NoDocumentTypesScreen() {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(17), {\n    t\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_6__.useTranslation)(_StructureToolProvider_mjs__WEBPACK_IMPORTED_MODULE_27__.structureLocaleNamespace);\n  let t0;\n  $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t0 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Box, { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Text, { size: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_icons__WEBPACK_IMPORTED_MODULE_29__.WarningOutlineIcon, {}) }) }), $[0] = t0) : t0 = $[0];\n  let t1;\n  $[1] !== t ? (t1 = t(\"no-document-types-screen.title\"), $[1] = t, $[2] = t1) : t1 = $[2];\n  let t2;\n  $[3] !== t1 ? (t2 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Text, { as: \"h1\", size: 1, weight: \"medium\", children: t1 }), $[3] = t1, $[4] = t2) : t2 = $[4];\n  let t3;\n  $[5] !== t ? (t3 = t(\"no-document-types-screen.subtitle\"), $[5] = t, $[6] = t3) : t3 = $[6];\n  let t4;\n  $[7] !== t3 ? (t4 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Text, { as: \"p\", muted: !0, size: 1, children: t3 }), $[7] = t3, $[8] = t4) : t4 = $[8];\n  let t5;\n  $[9] !== t ? (t5 = t(\"no-document-types-screen.link-text\"), $[9] = t, $[10] = t5) : t5 = $[10];\n  let t6;\n  $[11] !== t5 ? (t6 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Text, { as: \"p\", muted: !0, size: 1, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"a\", { href: \"https://www.sanity.io/docs/create-a-schema-and-configure-sanity-studio\", target: \"_blank\", rel: \"noreferrer\", children: t5 }) }), $[11] = t5, $[12] = t6) : t6 = $[12];\n  let t7;\n  return $[13] !== t2 || $[14] !== t4 || $[15] !== t6 ? (t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Card, { height: \"fill\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Flex, { align: \"center\", height: \"fill\", justify: \"center\", padding: 4, sizing: \"border\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Container, { width: 0, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Card, { padding: 4, radius: 2, shadow: 1, tone: \"caution\", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Flex, { children: [\n    t0,\n    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.Stack, { flex: 1, marginLeft: 3, space: 3, children: [\n      t2,\n      t4,\n      t6\n    ] })\n  ] }) }) }) }) }), $[13] = t2, $[14] = t4, $[15] = t6, $[16] = t7) : t7 = $[16], t7;\n}\nconst DocumentTitle = (props) => {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(7), {\n    documentId,\n    documentType\n  } = props, {\n    selectedReleaseId\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_6__.usePerspective)(), editState = (0,sanity__WEBPACK_IMPORTED_MODULE_6__.useEditState)(documentId, documentType, \"default\", selectedReleaseId), schema = (0,sanity__WEBPACK_IMPORTED_MODULE_6__.useSchema)(), {\n    t\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_6__.useTranslation)(_StructureToolProvider_mjs__WEBPACK_IMPORTED_MODULE_27__.structureLocaleNamespace), isNewDocument = !editState?.published && !editState?.draft, documentValue = editState?.version || editState?.draft || editState?.published, schemaType = schema.get(documentType), {\n    value,\n    isLoading: previewValueIsLoading\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_6__.unstable_useValuePreview)({\n    enabled: !!documentValue,\n    schemaType,\n    value: documentValue\n  }), {\n    lastRevisionDocument\n  } = (0,_pane_mjs__WEBPACK_IMPORTED_MODULE_24__.useDocumentLastRev)(documentId, documentType), documentTitle = lastRevisionDocument && !documentValue ? \"\" : isNewDocument ? t(\"browser-document-title.new-document\", {\n    schemaType: schemaType?.title || schemaType?.name\n  }) : value?.title || t(\"browser-document-title.untitled-document\"), settled = editState.ready && !previewValueIsLoading, newTitle = useConstructDocumentTitle(documentTitle);\n  let t0;\n  $[0] !== newTitle || $[1] !== settled ? (t0 = () => {\n    settled && (document.title = newTitle);\n  }, $[0] = newTitle, $[1] = settled, $[2] = t0) : t0 = $[2];\n  let t1;\n  return $[3] !== documentTitle || $[4] !== newTitle || $[5] !== settled ? (t1 = [documentTitle, settled, newTitle], $[3] = documentTitle, $[4] = newTitle, $[5] = settled, $[6] = t1) : t1 = $[6], (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t0, t1), null;\n}, PassthroughTitle = (props) => {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(5), {\n    title\n  } = props, newTitle = useConstructDocumentTitle(title);\n  let t0;\n  $[0] !== newTitle ? (t0 = () => {\n    document.title = newTitle;\n  }, $[0] = newTitle, $[1] = t0) : t0 = $[1];\n  let t1;\n  return $[2] !== newTitle || $[3] !== title ? (t1 = [newTitle, title], $[2] = newTitle, $[3] = title, $[4] = t1) : t1 = $[4], (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t0, t1), null;\n}, StructureTitle = (props) => {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(8), {\n    resolvedPanes\n  } = props;\n  if (!resolvedPanes?.length)\n    return null;\n  const lastPane = resolvedPanes[resolvedPanes.length - 1];\n  if (isLoadingPane(lastPane)) {\n    let t02;\n    return $[0] === Symbol.for(\"react.memo_cache_sentinel\") ? (t02 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PassthroughTitle, {}), $[0] = t02) : t02 = $[0], t02;\n  }\n  if (isDocumentPane(lastPane)) {\n    if (lastPane?.title) {\n      let t03;\n      return $[1] !== lastPane.title ? (t03 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PassthroughTitle, { title: lastPane.title }), $[1] = lastPane.title, $[2] = t03) : t03 = $[2], t03;\n    }\n    let t02;\n    return $[3] !== lastPane.options.id || $[4] !== lastPane.options.type ? (t02 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DocumentTitle, { documentId: lastPane.options.id, documentType: lastPane.options.type }), $[3] = lastPane.options.id, $[4] = lastPane.options.type, $[5] = t02) : t02 = $[5], t02;\n  }\n  const t0 = lastPane?.title;\n  let t1;\n  return $[6] !== t0 ? (t1 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(PassthroughTitle, { title: t0 }), $[6] = t0, $[7] = t1) : t1 = $[7], t1;\n};\nfunction useConstructDocumentTitle(activeTitle) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(3), structureToolBaseTitle = (0,_pane_mjs__WEBPACK_IMPORTED_MODULE_24__.useStructureTool)().structureContext.title;\n  let t0;\n  return $[0] !== activeTitle || $[1] !== structureToolBaseTitle ? (t0 = [activeTitle, structureToolBaseTitle].filter(_temp$2), $[0] = activeTitle, $[1] = structureToolBaseTitle, $[2] = t0) : t0 = $[2], t0.join(\" | \");\n}\nfunction _temp$2(title) {\n  return title;\n}\nfunction isDocumentPane(pane) {\n  return pane !== _pane_mjs__WEBPACK_IMPORTED_MODULE_24__.LOADING_PANE && pane.type === \"document\";\n}\nfunction isLoadingPane(pane) {\n  return pane === _pane_mjs__WEBPACK_IMPORTED_MODULE_24__.LOADING_PANE;\n}\nconst StyledPaneLayout = (0,styled_components__WEBPACK_IMPORTED_MODULE_26__.styled)((0,_pane_mjs__WEBPACK_IMPORTED_MODULE_24__.PaneLayout))`\n  min-height: 100%;\n  min-width: 320px;\n`, isSaveHotkey = (0,is_hotkey_esm__WEBPACK_IMPORTED_MODULE_30__.isHotkey)(\"mod+s\"), StructureTool = (0,react__WEBPACK_IMPORTED_MODULE_2__.memo)(function(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(31), {\n    onPaneChange\n  } = t0, {\n    push: pushToast\n  } = (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_31__.useToast)(), schema = (0,sanity__WEBPACK_IMPORTED_MODULE_6__.useSchema)(), {\n    layoutCollapsed,\n    setLayoutCollapsed\n  } = (0,_pane_mjs__WEBPACK_IMPORTED_MODULE_24__.useStructureTool)(), {\n    paneDataItems,\n    resolvedPanes\n  } = useResolvedPanes(), isResolvingIntent = (0,sanity_router__WEBPACK_IMPORTED_MODULE_22__.useRouterState)(_temp$1), {\n    sanity: t1\n  } = (0,_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.useTheme)(), {\n    media\n  } = t1, [portalElement, setPortalElement] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null);\n  let t2;\n  $[0] !== setLayoutCollapsed ? (t2 = () => setLayoutCollapsed(!0), $[0] = setLayoutCollapsed, $[1] = t2) : t2 = $[1];\n  const handleRootCollapse = t2;\n  let t3;\n  $[2] !== setLayoutCollapsed ? (t3 = () => setLayoutCollapsed(!1), $[2] = setLayoutCollapsed, $[3] = t3) : t3 = $[3];\n  const handleRootExpand = t3;\n  let t4, t5;\n  $[4] !== onPaneChange || $[5] !== resolvedPanes ? (t4 = () => {\n    resolvedPanes.length && onPaneChange(resolvedPanes);\n  }, t5 = [onPaneChange, resolvedPanes], $[4] = onPaneChange, $[5] = resolvedPanes, $[6] = t4, $[7] = t5) : (t4 = $[6], t5 = $[7]), (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t4, t5);\n  let t6, t7;\n  if ($[8] !== pushToast ? (t6 = () => {\n    const handleGlobalKeyDown = (event) => {\n      isSaveHotkey(event) && (event.preventDefault(), pushToast({\n        closable: !0,\n        id: \"auto-save-message\",\n        status: \"info\",\n        title: \"Your work is automatically saved!\",\n        duration: 4e3\n      }));\n    };\n    return window.addEventListener(\"keydown\", handleGlobalKeyDown), () => window.removeEventListener(\"keydown\", handleGlobalKeyDown);\n  }, t7 = [pushToast], $[8] = pushToast, $[9] = t6, $[10] = t7) : (t6 = $[9], t7 = $[10]), (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(t6, t7), !schema._original?.types.some(sanity__WEBPACK_IMPORTED_MODULE_6__._isCustomDocumentTypeDefinition)) {\n    let t82;\n    return $[11] === Symbol.for(\"react.memo_cache_sentinel\") ? (t82 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(NoDocumentTypesScreen, {}), $[11] = t82) : t82 = $[11], t82;\n  }\n  const t8 = portalElement || null, t9 = layoutCollapsed ? void 0 : \"fill\", t10 = media[1];\n  let t11;\n  $[12] !== paneDataItems ? (t11 = paneDataItems.map(_temp2$1), $[12] = paneDataItems, $[13] = t11) : t11 = $[13];\n  let t12;\n  $[14] !== isResolvingIntent || $[15] !== paneDataItems.length ? (t12 = paneDataItems.length <= 1 && isResolvingIntent && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_pane_mjs__WEBPACK_IMPORTED_MODULE_24__.LoadingPane, { paneKey: \"intent-resolver\" }), $[14] = isResolvingIntent, $[15] = paneDataItems.length, $[16] = t12) : t12 = $[16];\n  let t13;\n  $[17] !== handleRootCollapse || $[18] !== handleRootExpand || $[19] !== media[1] || $[20] !== t11 || $[21] !== t12 || $[22] !== t9 ? (t13 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(StyledPaneLayout, { flex: 1, height: t9, minWidth: t10, onCollapse: handleRootCollapse, onExpand: handleRootExpand, children: [\n    t11,\n    t12\n  ] }), $[17] = handleRootCollapse, $[18] = handleRootExpand, $[19] = media[1], $[20] = t11, $[21] = t12, $[22] = t9, $[23] = t13) : t13 = $[23];\n  let t14;\n  $[24] !== resolvedPanes ? (t14 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StructureTitle, { resolvedPanes }), $[24] = resolvedPanes, $[25] = t14) : t14 = $[25];\n  let t15;\n  $[26] === Symbol.for(\"react.memo_cache_sentinel\") ? (t15 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(\"div\", { \"data-portal\": \"\", ref: setPortalElement }), $[26] = t15) : t15 = $[26];\n  let t16;\n  return $[27] !== t13 || $[28] !== t14 || $[29] !== t8 ? (t16 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_sanity_ui__WEBPACK_IMPORTED_MODULE_28__.PortalProvider, { element: t8, children: [\n    t13,\n    t14,\n    t15\n  ] }), $[27] = t13, $[28] = t14, $[29] = t8, $[30] = t16) : t16 = $[30], t16;\n});\nfunction _temp$1(routerState) {\n  return typeof routerState.intent == \"string\";\n}\nfunction _temp2$1(t0) {\n  const {\n    active,\n    childItemId,\n    groupIndex,\n    itemId,\n    key: paneKey,\n    pane,\n    index: paneIndex,\n    params: paneParams,\n    path,\n    payload,\n    siblingIndex,\n    selected\n  } = t0;\n  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react__WEBPACK_IMPORTED_MODULE_2__.Fragment, { children: pane === _pane_mjs__WEBPACK_IMPORTED_MODULE_24__.LOADING_PANE ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_pane_mjs__WEBPACK_IMPORTED_MODULE_24__.LoadingPane, { paneKey, path, selected }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_pane_mjs__WEBPACK_IMPORTED_MODULE_24__.StructureToolPane, { active, groupIndex, index: paneIndex, pane, childItemId, itemId, paneKey, params: paneParams, payload, path, selected, siblingIndex }) }, `${pane === _pane_mjs__WEBPACK_IMPORTED_MODULE_24__.LOADING_PANE ? \"loading\" : pane.type}-${paneIndex}`);\n}\nfunction StructureToolBoundary(t0) {\n  const $ = (0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_1__.c)(14), {\n    tool: t1\n  } = t0, {\n    options\n  } = t1, {\n    unstable_sources: sources\n  } = (0,sanity__WEBPACK_IMPORTED_MODULE_6__.useWorkspace)(), [firstSource] = sources;\n  let t2;\n  $[0] !== options ? (t2 = options || {}, $[0] = options, $[1] = t2) : t2 = $[1];\n  const {\n    source,\n    defaultDocumentNode,\n    structure\n  } = t2;\n  let t3;\n  $[2] === Symbol.for(\"react.memo_cache_sentinel\") ? (t3 = [], $[2] = t3) : t3 = $[2], (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(_temp2, t3);\n  let t4;\n  $[3] === Symbol.for(\"react.memo_cache_sentinel\") ? (t4 = {\n    error: null\n  }, $[3] = t4) : t4 = $[3];\n  const [t5, setError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(t4), {\n    error\n  } = t5;\n  if (error) {\n    let t62;\n    return $[4] !== error ? (t62 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StructureError, { error }), $[4] = error, $[5] = t62) : t62 = $[5], t62;\n  }\n  const t6 = source || firstSource.name;\n  let t7, t8;\n  $[6] === Symbol.for(\"react.memo_cache_sentinel\") ? (t7 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(StructureTool, { onPaneChange: _pane_mjs__WEBPACK_IMPORTED_MODULE_24__.setActivePanes }), t8 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(IntentResolver, {}), $[6] = t7, $[7] = t8) : (t7 = $[6], t8 = $[7]);\n  let t9;\n  $[8] !== defaultDocumentNode || $[9] !== structure ? (t9 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_StructureToolProvider_mjs__WEBPACK_IMPORTED_MODULE_27__.StructureToolProvider, { defaultDocumentNode, structure, children: [\n    t7,\n    t8\n  ] }), $[8] = defaultDocumentNode, $[9] = structure, $[10] = t9) : t9 = $[10];\n  let t10;\n  return $[11] !== t6 || $[12] !== t9 ? (t10 = /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_generate_help_url_esm_mjs__WEBPACK_IMPORTED_MODULE_16__.ErrorBoundary, { onCatch: setError, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(sanity__WEBPACK_IMPORTED_MODULE_6__.SourceProvider, { name: t6, children: t9 }) }), $[11] = t6, $[12] = t9, $[13] = t10) : t10 = $[13], t10;\n}\nfunction _temp2() {\n  return (0,_pane_mjs__WEBPACK_IMPORTED_MODULE_24__.setActivePanes)([]), _temp;\n}\nfunction _temp() {\n  return (0,_pane_mjs__WEBPACK_IMPORTED_MODULE_24__.setActivePanes)([]);\n}\n\n//# sourceMappingURL=index3.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zYW5pdHkvbGliL19jaHVua3MtZXMvaW5kZXgzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBOEM7QUFDSDtBQUNpQjtBQUMwSTtBQUNqSDtBQUN1RDtBQUM5QjtBQUNwRDtBQUN4QjtBQUMwRDtBQUM1RDtBQUMwRjtBQUN0RjtBQUN5QjtBQUMyRDtBQUM3RTtBQUNmO0FBQ2E7QUFDRDtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLDhDQUFNO0FBQ25CO0FBQ0E7QUFDQSxzR0FBc0csZ0RBQVE7QUFDOUc7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxFQUFFLDZEQUFhO0FBQ2YsRUFBRSx3REFBUTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1Asd0NBQXdDLGtEQUFZLG1CQUFtQiwyQ0FBSSxzQkFBc0IsMERBQVMsNFFBQTRRLHlDQUFFO0FBQ3hYLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLFVBQVUsOEJBQThCLGVBQWU7QUFDbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyx5QkFBeUIsR0FBRyx3QkFBd0I7QUFDekY7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILG1CQUFtQixrQkFBa0I7QUFDckM7QUFDQSxTQUFTLDJDQUFJO0FBQ2I7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdB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QTtBQUNBLEtBQUs7QUFDTDtBQUNBLCtEQUErRCxzREFBRyxDQUFDLHNFQUFhLElBQUksNkNBQTZDLHNEQUFHLENBQUMsa0RBQWMsSUFBSSx3QkFBd0IsR0FBRztBQUNsTDtBQUNBO0FBQ0EsU0FBUywwREFBYztBQUN2QjtBQUNBO0FBQ0EsU0FBUywwREFBYztBQUN2QjtBQUdFO0FBQ0YiLCJzb3VyY2VzIjpbIi9Vc2Vycy9qb2hhbi9kZXYvcGVyc29uYWwvbWV4aXdlYi9ub2RlX21vZHVsZXMvc2FuaXR5L2xpYi9fY2h1bmtzLWVzL2luZGV4My5tanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsganN4cywganN4IH0gZnJvbSBcInJlYWN0L2pzeC1ydW50aW1lXCI7XG5pbXBvcnQgeyBjIH0gZnJvbSBcInJlYWN0LWNvbXBpbGVyLXJ1bnRpbWVcIjtcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIG1lbW8sIEZyYWdtZW50IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBpc1JlY29yZCwgdXNlRG9jdW1lbnRTdG9yZSwgdXNlVHJhbnNsYXRpb24sIHVzZVBlcnNwZWN0aXZlLCB1c2VFZGl0U3RhdGUsIHVzZVNjaGVtYSwgdW5zdGFibGVfdXNlVmFsdWVQcmV2aWV3LCBfaXNDdXN0b21Eb2N1bWVudFR5cGVEZWZpbml0aW9uLCB1c2VXb3Jrc3BhY2UsIFNvdXJjZVByb3ZpZGVyIH0gZnJvbSBcInNhbml0eVwiO1xuaW1wb3J0IHsgZ2VuZXJhdGVIZWxwVXJsLCBCdXR0b24sIEVycm9yQm91bmRhcnkgfSBmcm9tIFwiLi9nZW5lcmF0ZS1oZWxwLXVybC5lc20ubWpzXCI7XG5pbXBvcnQgeyB1c2VTdHJ1Y3R1cmVUb29sLCBMT0FESU5HX1BBTkUsIHVzZURvY3VtZW50TGFzdFJldiwgUGFuZUxheW91dCwgTG9hZGluZ1BhbmUsIFN0cnVjdHVyZVRvb2xQYW5lLCBzZXRBY3RpdmVQYW5lcyB9IGZyb20gXCIuL3BhbmUubWpzXCI7XG5pbXBvcnQgeyBzdHJ1Y3R1cmVMb2NhbGVOYW1lc3BhY2UsIFNlcmlhbGl6ZUVycm9yLCBTdHJ1Y3R1cmVUb29sUHJvdmlkZXIgfSBmcm9tIFwiLi9TdHJ1Y3R1cmVUb29sUHJvdmlkZXIubWpzXCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIsIHVzZVJvdXRlclN0YXRlIH0gZnJvbSBcInNhbml0eS9yb3V0ZXJcIjtcbmltcG9ydCBvbWl0IGZyb20gXCJsb2Rhc2gvb21pdC5qc1wiO1xuaW1wb3J0IHsgZnJvbSwgb2YsIGlzT2JzZXJ2YWJsZSwgZmlyc3RWYWx1ZUZyb20sIE5FVkVSLCBjb25jYXQsIFJlcGxheVN1YmplY3QgfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSBcIm5hbm9pZFwiO1xuaW1wb3J0IHsgc3dpdGNoTWFwLCBwdWJsaXNoUmVwbGF5LCByZWZDb3VudCwgbWFwLCBzdGFydFdpdGgsIHBhaXJ3aXNlLCBzY2FuLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCB9IGZyb20gXCJyeGpzL29wZXJhdG9yc1wiO1xuaW1wb3J0IHsgdXVpZCB9IGZyb20gXCJAc2FuaXR5L3V1aWRcIjtcbmltcG9ydCB7IFN5bmNJY29uLCBXYXJuaW5nT3V0bGluZUljb24gfSBmcm9tIFwiQHNhbml0eS9pY29uc1wiO1xuaW1wb3J0IHsgU3RhY2ssIFRleHQsIENvZGUsIEJveCwgQ2FyZCwgQ29udGFpbmVyLCBIZWFkaW5nLCBGbGV4LCB1c2VUb2FzdCwgdXNlVGhlbWUsIFBvcnRhbFByb3ZpZGVyIH0gZnJvbSBcIkBzYW5pdHkvdWlcIjtcbmltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCJzdHlsZWQtY29tcG9uZW50c1wiO1xuaW1wb3J0IFwiLi4vX3NpbmdsZXRvbnMubWpzXCI7XG5pbXBvcnQgeyBpc0hvdGtleSB9IGZyb20gXCJpcy1ob3RrZXktZXNtXCI7XG5pbXBvcnQgaXNFcXVhbCBmcm9tIFwibG9kYXNoL2lzRXF1YWwuanNcIjtcbmNsYXNzIFBhbmVSZXNvbHV0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlLFxuICAgIGNvbnRleHQsXG4gICAgaGVscElkLFxuICAgIGNhdXNlXG4gIH0pIHtcbiAgICBzdXBlcihtZXNzYWdlKSwgdGhpcy5uYW1lID0gXCJQYW5lUmVzb2x1dGlvbkVycm9yXCIsIHRoaXMuY29udGV4dCA9IGNvbnRleHQsIHRoaXMuaGVscElkID0gaGVscElkLCB0aGlzLmNhdXNlID0gY2F1c2U7XG4gIH1cbn1cbmNvbnN0IHJhbmRvbUlkQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIGFzc2lnbklkKG9iaikge1xuICBjb25zdCBjYWNoZWRWYWx1ZSA9IHJhbmRvbUlkQ2FjaGUuZ2V0KG9iaik7XG4gIGlmIChjYWNoZWRWYWx1ZSkgcmV0dXJuIGNhY2hlZFZhbHVlO1xuICBjb25zdCBpZCA9IG5hbm9pZCgpO1xuICByZXR1cm4gcmFuZG9tSWRDYWNoZS5zZXQob2JqLCBpZCksIGlkO1xufVxuY29uc3QgaXNQcm9taXNlID0gKHRoaW5nKSA9PiAhIXRoaW5nICYmIHR5cGVvZiB0aGluZz8udGhlbiA9PSBcImZ1bmN0aW9uXCIsIGlzU2VyaWFsaXphYmxlID0gKHRoaW5nKSA9PiBpc1JlY29yZCh0aGluZykgPyB0eXBlb2YgdGhpbmcuc2VyaWFsaXplID09IFwiZnVuY3Rpb25cIiA6ICExLCByZXRocm93V2l0aFBhbmVSZXNvbHV0aW9uRXJyb3JzID0gKG5leHQpID0+ICh1bnJlc29sdmVkUGFuZSwgY29udGV4dCwgZmxhdEluZGV4KSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5leHQodW5yZXNvbHZlZFBhbmUsIGNvbnRleHQsIGZsYXRJbmRleCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB0aHJvdyBlIGluc3RhbmNlb2YgUGFuZVJlc29sdXRpb25FcnJvciA/IGUgOiBuZXcgUGFuZVJlc29sdXRpb25FcnJvcih7XG4gICAgICBtZXNzYWdlOiB0eXBlb2YgZT8ubWVzc2FnZSA9PSBcInN0cmluZ1wiID8gZS5tZXNzYWdlIDogXCJcIixcbiAgICAgIGNvbnRleHQsXG4gICAgICBjYXVzZTogZVxuICAgIH0pO1xuICB9XG59LCB3cmFwV2l0aFB1Ymxpc2hSZXBsYXkgPSAobmV4dCkgPT4gKC4uLmFyZ3MpID0+IG5leHQoLi4uYXJncykucGlwZShcbiAgLy8gbmVlZCB0byBhZGQgcHVibGlzaFJlcGxheSArIHJlZkNvdW50IHRvIGVuc3VyZSBuZXcgc3Vic2NyaWJlcnMgYWx3YXlzXG4gIC8vIGdldCBhbiBlbWlzc2lvbi4gd2l0aG91dCB0aGlzLCBtZW1vaXplZCBvYnNlcnZhYmxlcyBtYXkgZ2V0IHN0dWNrXG4gIC8vIHdhaXRpbmcgZm9yIHRoZWlyIGZpcnN0IGVtaXNzaW9ucyByZXN1bHRpbmcgaW4gYSBsb2FkaW5nIHBhbmVcbiAgcHVibGlzaFJlcGxheSgxKSxcbiAgcmVmQ291bnQoKVxuKTtcbmZ1bmN0aW9uIGNyZWF0ZVBhbmVSZXNvbHZlcihtaWRkbGV3YXJlKSB7XG4gIGNvbnN0IHJlc29sdmVQYW5lID0gcmV0aHJvd1dpdGhQYW5lUmVzb2x1dGlvbkVycm9ycyh3cmFwV2l0aFB1Ymxpc2hSZXBsYXkobWlkZGxld2FyZSgodW5yZXNvbHZlZFBhbmUsIGNvbnRleHQsIGZsYXRJbmRleCkgPT4ge1xuICAgIGlmICghdW5yZXNvbHZlZFBhbmUpXG4gICAgICB0aHJvdyBuZXcgUGFuZVJlc29sdXRpb25FcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6IFwiUGFuZSByZXR1cm5lZCBubyBjaGlsZFwiLFxuICAgICAgICBjb250ZXh0LFxuICAgICAgICBoZWxwSWQ6IFwic3RydWN0dXJlLWl0ZW0tcmV0dXJuZWQtbm8tY2hpbGRcIlxuICAgICAgfSk7XG4gICAgcmV0dXJuIGlzUHJvbWlzZSh1bnJlc29sdmVkUGFuZSkgfHwgaXNPYnNlcnZhYmxlKHVucmVzb2x2ZWRQYW5lKSA/IGZyb20odW5yZXNvbHZlZFBhbmUpLnBpcGUoc3dpdGNoTWFwKChyZXN1bHQpID0+IHJlc29sdmVQYW5lKHJlc3VsdCwgY29udGV4dCwgZmxhdEluZGV4KSkpIDogaXNTZXJpYWxpemFibGUodW5yZXNvbHZlZFBhbmUpID8gcmVzb2x2ZVBhbmUodW5yZXNvbHZlZFBhbmUuc2VyaWFsaXplKGNvbnRleHQpLCBjb250ZXh0LCBmbGF0SW5kZXgpIDogdHlwZW9mIHVucmVzb2x2ZWRQYW5lID09IFwiZnVuY3Rpb25cIiA/IHJlc29sdmVQYW5lKHVucmVzb2x2ZWRQYW5lKGNvbnRleHQuaWQsIGNvbnRleHQpLCBjb250ZXh0LCBmbGF0SW5kZXgpIDogb2YodW5yZXNvbHZlZFBhbmUpO1xuICB9KSkpO1xuICByZXR1cm4gcmVzb2x2ZVBhbmU7XG59XG5jb25zdCBiaW5kQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIG1lbW9CaW5kKG9iaiwgbWV0aG9kS2V5KSB7XG4gIGNvbnN0IGJvdW5kTWV0aG9kcyA9IGJpbmRDYWNoZS5nZXQob2JqKSB8fCAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICBpZiAoYm91bmRNZXRob2RzKSB7XG4gICAgY29uc3QgYm91bmQyID0gYm91bmRNZXRob2RzLmdldChtZXRob2RLZXkpO1xuICAgIGlmIChib3VuZDIpIHJldHVybiBib3VuZDI7XG4gIH1cbiAgY29uc3QgbWV0aG9kID0gb2JqW21ldGhvZEtleV07XG4gIGlmICh0eXBlb2YgbWV0aG9kICE9IFwiZnVuY3Rpb25cIilcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIHByb3BlcnR5IFxcYCR7bWV0aG9kS2V5fVxcYCB0byBiZSBhIGZ1bmN0aW9uIGJ1dCBnb3QgJHt0eXBlb2YgbWV0aG9kfSBpbnN0ZWFkLmApO1xuICBjb25zdCBib3VuZCA9IG1ldGhvZC5iaW5kKG9iaik7XG4gIHJldHVybiBib3VuZE1ldGhvZHMuc2V0KG1ldGhvZEtleSwgYm91bmQpLCBiaW5kQ2FjaGUuc2V0KG9iaiwgYm91bmRNZXRob2RzKSwgYm91bmQ7XG59XG5hc3luYyBmdW5jdGlvbiByZXNvbHZlSW50ZW50KG9wdGlvbnMpIHtcbiAgY29uc3QgcmVzb2x2ZWRQYW5lQ2FjaGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCByZXNvbHZlUGFuZSA9IGNyZWF0ZVBhbmVSZXNvbHZlcigobmV4dEZuKSA9PiAodW5yZXNvbHZlZFBhbmUsIGNvbnRleHQsIGZsYXRJbmRleCkgPT4ge1xuICAgIGNvbnN0IGtleSA9IHVucmVzb2x2ZWRQYW5lICYmIGAke2Fzc2lnbklkKHVucmVzb2x2ZWRQYW5lKX0tJHtjb250ZXh0LnBhdGguam9pbihcIl9fXCIpfWAsIGNhY2hlZFJlc29sdmVkUGFuZSA9IGtleSAmJiByZXNvbHZlZFBhbmVDYWNoZS5nZXQoa2V5KTtcbiAgICBpZiAoY2FjaGVkUmVzb2x2ZWRQYW5lKSByZXR1cm4gY2FjaGVkUmVzb2x2ZWRQYW5lO1xuICAgIGNvbnN0IHJlc3VsdCA9IG5leHRGbih1bnJlc29sdmVkUGFuZSwgY29udGV4dCwgZmxhdEluZGV4KTtcbiAgICByZXR1cm4ga2V5ICYmIHJlc29sdmVkUGFuZUNhY2hlLnNldChrZXksIHJlc3VsdCksIHJlc3VsdDtcbiAgfSksIGZhbGxiYWNrRWRpdG9yUGFuZXMgPSBbW3tcbiAgICBpZDogYF9fZWRpdF9fJHtvcHRpb25zLnBhcmFtcy5pZH1gLFxuICAgIHBhcmFtczoge1xuICAgICAgLi4ub21pdChvcHRpb25zLnBhcmFtcywgW1wiaWRcIl0pLFxuICAgICAgdHlwZTogb3B0aW9ucy5wYXJhbXMudHlwZVxuICAgIH0sXG4gICAgcGF5bG9hZDogb3B0aW9ucy5wYXlsb2FkXG4gIH1dXTtcbiAgYXN5bmMgZnVuY3Rpb24gdHJhdmVyc2Uoe1xuICAgIGN1cnJlbnRJZCxcbiAgICBmbGF0SW5kZXgsXG4gICAgaW50ZW50LFxuICAgIHBhcmFtcyxcbiAgICBwYXJlbnQ6IHBhcmVudDIsXG4gICAgcGF0aCxcbiAgICBwYXlsb2FkLFxuICAgIHVucmVzb2x2ZWRQYW5lLFxuICAgIGxldmVsSW5kZXgsXG4gICAgc3RydWN0dXJlQ29udGV4dFxuICB9KSB7XG4gICAgaWYgKCF1bnJlc29sdmVkUGFuZSkgcmV0dXJuIFtdO1xuICAgIGNvbnN0IHtcbiAgICAgIGlkOiB0YXJnZXRJZCxcbiAgICAgIHR5cGU6IHNjaGVtYVR5cGVOYW1lLFxuICAgICAgLi4ub3RoZXJQYXJhbXNcbiAgICB9ID0gcGFyYW1zLCByZXNvbHZlZFBhbmUgPSBhd2FpdCBmaXJzdFZhbHVlRnJvbShyZXNvbHZlUGFuZSh1bnJlc29sdmVkUGFuZSwge1xuICAgICAgaWQ6IGN1cnJlbnRJZCxcbiAgICAgIHNwbGl0SW5kZXg6IDAsXG4gICAgICBwYXJlbnQ6IHBhcmVudDIsXG4gICAgICBwYXRoLFxuICAgICAgaW5kZXg6IGZsYXRJbmRleCxcbiAgICAgIHBhcmFtczoge30sXG4gICAgICBwYXlsb2FkOiB2b2lkIDAsXG4gICAgICBzdHJ1Y3R1cmVDb250ZXh0XG4gICAgfSwgZmxhdEluZGV4KSk7XG4gICAgcmV0dXJuIHJlc29sdmVkUGFuZS50eXBlID09PSBcImRvY3VtZW50XCIgJiYgcmVzb2x2ZWRQYW5lLmlkID09PSB0YXJnZXRJZCA/IFt7XG4gICAgICBwYW5lczogWy4uLnBhdGguc2xpY2UoMCwgcGF0aC5sZW5ndGggLSAxKS5tYXAoKGkpID0+IFt7XG4gICAgICAgIGlkOiBpXG4gICAgICB9XSksIFt7XG4gICAgICAgIGlkOiB0YXJnZXRJZCxcbiAgICAgICAgcGFyYW1zOiBvdGhlclBhcmFtcyxcbiAgICAgICAgcGF5bG9hZFxuICAgICAgfV1dLFxuICAgICAgZGVwdGhJbmRleDogcGF0aC5sZW5ndGgsXG4gICAgICBsZXZlbEluZGV4XG4gICAgfV0gOiAoXG4gICAgICAvLyBpZiB0aGUgcmVzb2x2ZSBwYW5lJ3MgYGNhbkhhbmRsZUludGVudGAgcmV0dXJucyB0cnVlLCB0aGVuIHJlc29sdmVcbiAgICAgIHJlc29sdmVkUGFuZS5jYW5IYW5kbGVJbnRlbnQ/LihpbnRlbnQsIHBhcmFtcywge1xuICAgICAgICBwYW5lOiByZXNvbHZlZFBhbmUsXG4gICAgICAgIGluZGV4OiBmbGF0SW5kZXhcbiAgICAgIH0pIHx8IC8vIGlmIHRoZSBwYW5lJ3MgYGNhbkhhbmRsZUludGVudGAgZGlkIG5vdCByZXR1cm4gdHJ1ZSwgdGhlbiBtYXRjaCBhZ2FpbnN0XG4gICAgICAvLyB0aGlzIGRlZmF1bHQgY2FzZS4gd2Ugd2lsbCByZXNvbHZlIHRoZSBpbnRlbnQgaWY6XG4gICAgICByZXNvbHZlZFBhbmUudHlwZSA9PT0gXCJkb2N1bWVudExpc3RcIiAmJiAvLyAxLiB0aGUgc2NoZW1hIHR5cGUgbWF0Y2hlcyAodGhpcyByZXF1aXJlZCBmb3IgdGhlIGRvY3VtZW50IHRvIHJlbmRlcilcbiAgICAgIHJlc29sdmVkUGFuZS5zY2hlbWFUeXBlTmFtZSA9PT0gc2NoZW1hVHlwZU5hbWUgJiYgLy8gMi4gdGhlIGZpbHRlciBpcyB0aGUgZGVmYXVsdCBmaWx0ZXIuXG4gICAgICAvL1xuICAgICAgLy8gTk9URTogdGhpcyBjYXNlIGlzIHRvIHByZXZlbnQgZmFsc2UgcG9zaXRpdmUgbWF0Y2hlcyB3aGVyZSB0aGUgdXNlclxuICAgICAgLy8gaGFzIGNvbmZpZ3VyZWQgYSBtb3JlIHNwZWNpZmljIGZpbHRlciBmb3IgYSBwYXJ0aWN1bGFyIHR5cGUuIEluIHRoYXRcbiAgICAgIC8vIGNhc2UsIHRoZSB1c2VyIGNhbiBpbXBsZW1lbnQgdGhlaXIgb3duIGBjYW5IYW5kbGVJbnRlbnRgIGZ1bmN0aW9uXG4gICAgICByZXNvbHZlZFBhbmUub3B0aW9ucy5maWx0ZXIgPT09IFwiX3R5cGUgPT0gJHR5cGVcIiA/IFt7XG4gICAgICAgIHBhbmVzOiBbXG4gICAgICAgICAgLy8gbWFwIHRoZSBjdXJyZW50IHBhdGggdG8gcm91dGVyIHBhbmVzXG4gICAgICAgICAgLi4ucGF0aC5tYXAoKGlkKSA9PiBbe1xuICAgICAgICAgICAgaWRcbiAgICAgICAgICB9XSksXG4gICAgICAgICAgLy8gdGhlbiBhdWdtZW50IHdpdGggdGhlIGludGVudHMgSURzIGFuZCBwYXJhbXNcbiAgICAgICAgICBbe1xuICAgICAgICAgICAgaWQ6IHBhcmFtcy5pZCxcbiAgICAgICAgICAgIHBhcmFtczogb3RoZXJQYXJhbXMsXG4gICAgICAgICAgICBwYXlsb2FkXG4gICAgICAgICAgfV1cbiAgICAgICAgXSxcbiAgICAgICAgZGVwdGhJbmRleDogcGF0aC5sZW5ndGgsXG4gICAgICAgIGxldmVsSW5kZXhcbiAgICAgIH1dIDogcmVzb2x2ZWRQYW5lLnR5cGUgPT09IFwibGlzdFwiICYmIHJlc29sdmVkUGFuZS5jaGlsZCAmJiByZXNvbHZlZFBhbmUuaXRlbXMgPyAoYXdhaXQgUHJvbWlzZS5hbGwocmVzb2x2ZWRQYW5lLml0ZW1zLm1hcCgoaXRlbSwgbmV4dExldmVsSW5kZXgpID0+IGl0ZW0udHlwZSA9PT0gXCJkaXZpZGVyXCIgPyBQcm9taXNlLnJlc29sdmUoW10pIDogdHJhdmVyc2Uoe1xuICAgICAgICBjdXJyZW50SWQ6IGl0ZW0uX2lkIHx8IGl0ZW0uaWQsXG4gICAgICAgIGZsYXRJbmRleDogZmxhdEluZGV4ICsgMSxcbiAgICAgICAgaW50ZW50LFxuICAgICAgICBwYXJhbXMsXG4gICAgICAgIHBhcmVudDogcmVzb2x2ZWRQYW5lLFxuICAgICAgICBwYXRoOiBbLi4ucGF0aCwgaXRlbS5pZF0sXG4gICAgICAgIHBheWxvYWQsXG4gICAgICAgIHVucmVzb2x2ZWRQYW5lOiB0eXBlb2YgcmVzb2x2ZWRQYW5lLmNoaWxkID09IFwiZnVuY3Rpb25cIiA/IG1lbW9CaW5kKHJlc29sdmVkUGFuZSwgXCJjaGlsZFwiKSA6IHJlc29sdmVkUGFuZS5jaGlsZCxcbiAgICAgICAgbGV2ZWxJbmRleDogbmV4dExldmVsSW5kZXgsXG4gICAgICAgIHN0cnVjdHVyZUNvbnRleHRcbiAgICAgIH0pKSkpLmZsYXQoKSA6IFtdXG4gICAgKTtcbiAgfVxuICBjb25zdCBjbG9zZXN0UGFuZVRvUm9vdCA9IChhd2FpdCB0cmF2ZXJzZSh7XG4gICAgY3VycmVudElkOiBcInJvb3RcIixcbiAgICBmbGF0SW5kZXg6IDAsXG4gICAgbGV2ZWxJbmRleDogMCxcbiAgICBpbnRlbnQ6IG9wdGlvbnMuaW50ZW50LFxuICAgIHBhcmFtczogb3B0aW9ucy5wYXJhbXMsXG4gICAgcGFyZW50OiBudWxsLFxuICAgIHBhdGg6IFtdLFxuICAgIHBheWxvYWQ6IG9wdGlvbnMucGF5bG9hZCxcbiAgICB1bnJlc29sdmVkUGFuZTogb3B0aW9ucy5yb290UGFuZU5vZGUsXG4gICAgc3RydWN0dXJlQ29udGV4dDogb3B0aW9ucy5zdHJ1Y3R1cmVDb250ZXh0XG4gIH0pKS5zb3J0KChhLCBiKSA9PiBhLmRlcHRoSW5kZXggPT09IGIuZGVwdGhJbmRleCA/IGEubGV2ZWxJbmRleCAtIGIubGV2ZWxJbmRleCA6IGEuZGVwdGhJbmRleCAtIGIuZGVwdGhJbmRleClbMF07XG4gIHJldHVybiBjbG9zZXN0UGFuZVRvUm9vdCA/IGNsb3Nlc3RQYW5lVG9Sb290LnBhbmVzIDogZmFsbGJhY2tFZGl0b3JQYW5lcztcbn1cbmNvbnN0IGZhbGxiYWNrRWRpdG9yQ2hpbGQgPSAobm9kZUlkLCBjb250ZXh0KSA9PiB7XG4gIGNvbnN0IGlkID0gbm9kZUlkLnJlcGxhY2UoL15fX2VkaXRfXy8sIFwiXCIpLCB7XG4gICAgcGFyYW1zLFxuICAgIHBheWxvYWQsXG4gICAgc3RydWN0dXJlQ29udGV4dDoge1xuICAgICAgcmVzb2x2ZURvY3VtZW50Tm9kZVxuICAgIH1cbiAgfSA9IGNvbnRleHQsIHtcbiAgICB0eXBlLFxuICAgIHRlbXBsYXRlXG4gIH0gPSBwYXJhbXM7XG4gIGlmICghdHlwZSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoYERvY3VtZW50IHR5cGUgZm9yIGRvY3VtZW50IHdpdGggSUQgJHtpZH0gd2FzIG5vdCBwcm92aWRlZCBpbiB0aGUgcm91dGVyIHBhcmFtcy5gKTtcbiAgbGV0IGRlZmF1bHREb2N1bWVudEJ1aWxkZXIgPSByZXNvbHZlRG9jdW1lbnROb2RlKHtcbiAgICBzY2hlbWFUeXBlOiB0eXBlLFxuICAgIGRvY3VtZW50SWQ6IGlkXG4gIH0pLmlkKFwiZWRpdG9yXCIpO1xuICByZXR1cm4gdGVtcGxhdGUgJiYgKGRlZmF1bHREb2N1bWVudEJ1aWxkZXIgPSBkZWZhdWx0RG9jdW1lbnRCdWlsZGVyLmluaXRpYWxWYWx1ZVRlbXBsYXRlKHRlbXBsYXRlLCBwYXlsb2FkKSksIGRlZmF1bHREb2N1bWVudEJ1aWxkZXIuc2VyaWFsaXplKCk7XG59O1xuZnVuY3Rpb24gaGFzaENvbnRleHQoY29udGV4dCkge1xuICByZXR1cm4gYGNvbnRleHRIYXNoKCR7SlNPTi5zdHJpbmdpZnkoe1xuICAgIGlkOiBjb250ZXh0LmlkLFxuICAgIHBhcmVudElkOiBwYXJlbnQgJiYgYXNzaWduSWQocGFyZW50KSxcbiAgICBwYXRoOiBjb250ZXh0LnBhdGgsXG4gICAgaW5kZXg6IGNvbnRleHQuaW5kZXgsXG4gICAgc3BsaXRJbmRleDogY29udGV4dC5zcGxpdEluZGV4LFxuICAgIHNlcmlhbGl6ZU9wdGlvbnNJbmRleDogY29udGV4dC5zZXJpYWxpemVPcHRpb25zPy5pbmRleCxcbiAgICBzZXJpYWxpemVPcHRpb25zUGF0aDogY29udGV4dC5zZXJpYWxpemVPcHRpb25zPy5wYXRoXG4gIH0pfSlgO1xufVxuY29uc3QgaGFzaFJlc29sdmVkUGFuZU1ldGEgPSAobWV0YSkgPT4ge1xuICBjb25zdCBub3JtYWxpemVkID0ge1xuICAgIHR5cGU6IG1ldGEudHlwZSxcbiAgICBpZDogbWV0YS5yb3V0ZXJQYW5lU2libGluZy5pZCxcbiAgICBwYXJhbXM6IG1ldGEucm91dGVyUGFuZVNpYmxpbmcucGFyYW1zIHx8IHt9LFxuICAgIHBheWxvYWQ6IG1ldGEucm91dGVyUGFuZVNpYmxpbmcucGF5bG9hZCB8fCBudWxsLFxuICAgIGZsYXRJbmRleDogbWV0YS5mbGF0SW5kZXgsXG4gICAgZ3JvdXBJbmRleDogbWV0YS5ncm91cEluZGV4LFxuICAgIHNpYmxpbmdJbmRleDogbWV0YS5zaWJsaW5nSW5kZXgsXG4gICAgcGF0aDogbWV0YS5wYXRoLFxuICAgIHBhbmVOb2RlOiBtZXRhLnR5cGUgPT09IFwicmVzb2x2ZWRNZXRhXCIgPyBhc3NpZ25JZChtZXRhLnBhbmVOb2RlKSA6IG51bGxcbiAgfTtcbiAgcmV0dXJuIGBtZXRhSGFzaCgke0pTT04uc3RyaW5naWZ5KG5vcm1hbGl6ZWQpfSlgO1xufTtcbmZ1bmN0aW9uIHJlc29sdmVQYW5lVHJlZSh7XG4gIHVucmVzb2x2ZWRQYW5lLFxuICBmbGF0dGVuZWRSb3V0ZXJQYW5lcyxcbiAgcGFyZW50OiBwYXJlbnQyLFxuICBwYXRoLFxuICByZXNvbHZlUGFuZSxcbiAgc3RydWN0dXJlQ29udGV4dFxufSkge1xuICBjb25zdCBbY3VycmVudCwgLi4ucmVzdF0gPSBmbGF0dGVuZWRSb3V0ZXJQYW5lcywgbmV4dCA9IHJlc3RbMF0sIGNvbnRleHQgPSB7XG4gICAgaWQ6IGN1cnJlbnQucm91dGVyUGFuZVNpYmxpbmcuaWQsXG4gICAgc3BsaXRJbmRleDogY3VycmVudC5zaWJsaW5nSW5kZXgsXG4gICAgcGFyZW50OiBwYXJlbnQyLFxuICAgIHBhdGg6IFsuLi5wYXRoLCBjdXJyZW50LnJvdXRlclBhbmVTaWJsaW5nLmlkXSxcbiAgICBpbmRleDogY3VycmVudC5mbGF0SW5kZXgsXG4gICAgcGFyYW1zOiBjdXJyZW50LnJvdXRlclBhbmVTaWJsaW5nLnBhcmFtcyB8fCB7fSxcbiAgICBwYXlsb2FkOiBjdXJyZW50LnJvdXRlclBhbmVTaWJsaW5nLnBheWxvYWQsXG4gICAgc3RydWN0dXJlQ29udGV4dFxuICB9O1xuICB0cnkge1xuICAgIHJldHVybiByZXNvbHZlUGFuZSh1bnJlc29sdmVkUGFuZSwgY29udGV4dCwgY3VycmVudC5mbGF0SW5kZXgpLnBpcGUoXG4gICAgICAvLyB0aGlzIHN3aXRjaCBtYXAgcmVjZWl2ZXMgYSByZXNvbHZlZCBwYW5lXG4gICAgICBzd2l0Y2hNYXAoKHBhbmVOb2RlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc29sdmVkUGFuZU1ldGEgPSB7XG4gICAgICAgICAgdHlwZTogXCJyZXNvbHZlZE1ldGFcIixcbiAgICAgICAgICAuLi5jdXJyZW50LFxuICAgICAgICAgIHBhbmVOb2RlLFxuICAgICAgICAgIHBhdGg6IGNvbnRleHQucGF0aFxuICAgICAgICB9LCBsb2FkaW5nUGFuZXMgPSByZXN0Lm1hcCgoaSwgcmVzdEluZGV4KSA9PiAoe1xuICAgICAgICAgIHR5cGU6IFwibG9hZGluZ1wiLFxuICAgICAgICAgIHBhdGg6IFsuLi5jb250ZXh0LnBhdGgsIC4uLnJlc3Quc2xpY2UocmVzdEluZGV4KS5tYXAoKF8sIGN1cnJlbnRJbmRleCkgPT4gYFske2kuZmxhdEluZGV4ICsgY3VycmVudEluZGV4fV1gKV0sXG4gICAgICAgICAgcGFuZU5vZGU6IG51bGwsXG4gICAgICAgICAgLi4uaVxuICAgICAgICB9KSk7XG4gICAgICAgIGlmICghcmVzdC5sZW5ndGgpXG4gICAgICAgICAgcmV0dXJuIG9mKFtyZXNvbHZlZFBhbmVNZXRhXSk7XG4gICAgICAgIGxldCBuZXh0U3RyZWFtO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIC8qIHRoZSBmYWxsYmFjayBlZGl0b3IgY2FzZSAqL1xuICAgICAgICAgIG5leHQ/LnJvdXRlclBhbmVTaWJsaW5nLmlkLnN0YXJ0c1dpdGgoXCJfX2VkaXRfX1wiKSA/IG5leHRTdHJlYW0gPSByZXNvbHZlUGFuZVRyZWUoe1xuICAgICAgICAgICAgdW5yZXNvbHZlZFBhbmU6IGZhbGxiYWNrRWRpdG9yQ2hpbGQsXG4gICAgICAgICAgICBmbGF0dGVuZWRSb3V0ZXJQYW5lczogcmVzdCxcbiAgICAgICAgICAgIHBhcmVudDogcGFyZW50MixcbiAgICAgICAgICAgIHBhdGg6IGNvbnRleHQucGF0aCxcbiAgICAgICAgICAgIHJlc29sdmVQYW5lLFxuICAgICAgICAgICAgc3RydWN0dXJlQ29udGV4dFxuICAgICAgICAgIH0pIDogY3VycmVudC5ncm91cEluZGV4ID09PSBuZXh0Py5ncm91cEluZGV4ID8gbmV4dFN0cmVhbSA9IHJlc29sdmVQYW5lVHJlZSh7XG4gICAgICAgICAgICB1bnJlc29sdmVkUGFuZSxcbiAgICAgICAgICAgIGZsYXR0ZW5lZFJvdXRlclBhbmVzOiByZXN0LFxuICAgICAgICAgICAgcGFyZW50OiBwYXJlbnQyLFxuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIHJlc29sdmVQYW5lLFxuICAgICAgICAgICAgc3RydWN0dXJlQ29udGV4dFxuICAgICAgICAgIH0pIDogbmV4dFN0cmVhbSA9IHJlc29sdmVQYW5lVHJlZSh7XG4gICAgICAgICAgICB1bnJlc29sdmVkUGFuZTogdHlwZW9mIHBhbmVOb2RlLmNoaWxkID09IFwiZnVuY3Rpb25cIiA/IG1lbW9CaW5kKHBhbmVOb2RlLCBcImNoaWxkXCIpIDogcGFuZU5vZGUuY2hpbGQsXG4gICAgICAgICAgICBmbGF0dGVuZWRSb3V0ZXJQYW5lczogcmVzdCxcbiAgICAgICAgICAgIHBhcmVudDogcGFuZU5vZGUsXG4gICAgICAgICAgICBwYXRoOiBjb250ZXh0LnBhdGgsXG4gICAgICAgICAgICByZXNvbHZlUGFuZSxcbiAgICAgICAgICAgIHN0cnVjdHVyZUNvbnRleHRcbiAgICAgICAgICB9KSwgY29uY2F0KFxuICAgICAgICAgICAgLy8gd2UgZW1pdCB0aGUgbG9hZGluZyBwYW5lcyBmaXJzdCBpbiBhIGNvbmNhdCAodGhpcyBlbWl0cyBpbW1lZGlhdGVseSlcbiAgICAgICAgICAgIG9mKFtyZXNvbHZlZFBhbmVNZXRhLCAuLi5sb2FkaW5nUGFuZXNdKSxcbiAgICAgICAgICAgIC8vIHRoZW4gd2hlbmV2ZXIgdGhlIG5leHQgc3RyZWFtIGlzIGRvbmUsIHRoZSByZXN1bHRzIHdpbGwgYmUgY29tYmluZWQuXG4gICAgICAgICAgICBuZXh0U3RyZWFtLnBpcGUobWFwKChuZXh0UmVzb2x2ZWRQYW5lcykgPT4gW3Jlc29sdmVkUGFuZU1ldGEsIC4uLm5leHRSZXNvbHZlZFBhbmVzXSkpXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSlcbiAgICApO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBQYW5lUmVzb2x1dGlvbkVycm9yICYmIChlLmNvbnRleHQgJiYgY29uc29sZS53YXJuKGBQYW5lIHJlc29sdXRpb24gZXJyb3IgYXQgaW5kZXggJHtlLmNvbnRleHQuaW5kZXh9JHtlLmNvbnRleHQuc3BsaXRJbmRleCA+IDAgPyBgIGZvciBzcGxpdCBwYW5lIGluZGV4ICR7ZS5jb250ZXh0LnNwbGl0SW5kZXh9YCA6IFwiXCJ9OiAke2UubWVzc2FnZX0ke2UuaGVscElkID8gYCAtIHNlZSAke2dlbmVyYXRlSGVscFVybChlLmhlbHBJZCl9YCA6IFwiXCJ9YCwgZSksIGUuaGVscElkID09PSBcInN0cnVjdHVyZS1pdGVtLXJldHVybmVkLW5vLWNoaWxkXCIpKVxuICAgICAgcmV0dXJuIG9mKFtdKTtcbiAgICB0aHJvdyBlO1xuICB9XG59XG5mdW5jdGlvbiBjcmVhdGVSZXNvbHZlZFBhbmVOb2RlU3RyZWFtKHtcbiAgcm91dGVyUGFuZXNTdHJlYW0sXG4gIHJvb3RQYW5lTm9kZSxcbiAgaW5pdGlhbENhY2hlU3RhdGUgPSB7XG4gICAgY2FjaGVLZXlzQnlGbGF0SW5kZXg6IFtdLFxuICAgIGZsYXR0ZW5lZFJvdXRlclBhbmVzOiBbXSxcbiAgICByZXNvbHZlZFBhbmVDYWNoZTogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICByZXNvbHZlUGFuZTogKCkgPT4gTkVWRVJcbiAgfSxcbiAgc3RydWN0dXJlQ29udGV4dFxufSkge1xuICByZXR1cm4gcm91dGVyUGFuZXNTdHJlYW0ucGlwZShcbiAgICAvLyBhZGQgaW4gaW1wbGljaXQgXCJyb290XCIgcm91dGVyIHBhbmVcbiAgICBtYXAoKHJhd1JvdXRlclBhbmVzKSA9PiBbW3tcbiAgICAgIGlkOiBcInJvb3RcIlxuICAgIH1dLCAuLi5yYXdSb3V0ZXJQYW5lc10pLFxuICAgIC8vIGNyZWF0ZSBmbGF0dGVuZWQgcm91dGVyIHBhbmVzXG4gICAgbWFwKChyb3V0ZXJQYW5lcykgPT4gcm91dGVyUGFuZXMuZmxhdE1hcCgocm91dGVyUGFuZUdyb3VwLCBncm91cEluZGV4KSA9PiByb3V0ZXJQYW5lR3JvdXAubWFwKChyb3V0ZXJQYW5lU2libGluZywgc2libGluZ0luZGV4KSA9PiAoe1xuICAgICAgcm91dGVyUGFuZVNpYmxpbmcsXG4gICAgICBncm91cEluZGV4LFxuICAgICAgc2libGluZ0luZGV4XG4gICAgfSkpKS5tYXAoKGksIGluZGV4KSA9PiAoe1xuICAgICAgLi4uaSxcbiAgICAgIGZsYXRJbmRleDogaW5kZXhcbiAgICB9KSkpLFxuICAgIC8vIGNhbGN1bGF0ZSBhIFwiZGlmZkluZGV4XCIgdXNlZCBmb3IgY2xlYXJpbmcgdGhlIG1lbW8gY2FjaGVcbiAgICBzdGFydFdpdGgoW10pLFxuICAgIHBhaXJ3aXNlKCksXG4gICAgbWFwKChbcHJldiwgY3Vycl0pID0+IHtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3Vyci5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBwcmV2VmFsdWUgPSBwcmV2W2ldLCBjdXJyVmFsdWUgPSBjdXJyW2ldO1xuICAgICAgICBpZiAoIWlzRXF1YWwocHJldlZhbHVlLCBjdXJyVmFsdWUpKVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmbGF0dGVuZWRSb3V0ZXJQYW5lczogY3VycixcbiAgICAgICAgICAgIGRpZmZJbmRleDogaVxuICAgICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBmbGF0dGVuZWRSb3V0ZXJQYW5lczogY3VycixcbiAgICAgICAgZGlmZkluZGV4OiBjdXJyLmxlbmd0aFxuICAgICAgfTtcbiAgICB9KSxcbiAgICAvLyBjcmVhdGUgdGhlIG1lbW9pemVkIGByZXNvbHZlUGFuZWAgZnVuY3Rpb24gYW5kIG1hbmFnZSB0aGUgbWVtbyBjYWNoZVxuICAgIHNjYW4oKGFjYywgbmV4dCkgPT4ge1xuICAgICAgY29uc3Qge1xuICAgICAgICBjYWNoZUtleXNCeUZsYXRJbmRleCxcbiAgICAgICAgcmVzb2x2ZWRQYW5lQ2FjaGVcbiAgICAgIH0gPSBhY2MsIHtcbiAgICAgICAgZmxhdHRlbmVkUm91dGVyUGFuZXMsXG4gICAgICAgIGRpZmZJbmRleFxuICAgICAgfSA9IG5leHQsIGJlZm9yZURpZmZJbmRleCA9IGNhY2hlS2V5c0J5RmxhdEluZGV4LnNsaWNlKDAsIGRpZmZJbmRleCArIDEpLCBhZnRlckRpZmZJbmRleCA9IGNhY2hlS2V5c0J5RmxhdEluZGV4LnNsaWNlKGRpZmZJbmRleCArIDEpLCBrZXlzVG9LZWVwID0gbmV3IFNldChiZWZvcmVEaWZmSW5kZXguZmxhdE1hcCgoa2V5U2V0KSA9PiBBcnJheS5mcm9tKGtleVNldCkpKSwga2V5c1RvRGVsZXRlID0gYWZ0ZXJEaWZmSW5kZXguZmxhdE1hcCgoa2V5U2V0KSA9PiBBcnJheS5mcm9tKGtleVNldCkpLmZpbHRlcigoa2V5KSA9PiAha2V5c1RvS2VlcC5oYXMoa2V5KSk7XG4gICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzVG9EZWxldGUpXG4gICAgICAgIHJlc29sdmVkUGFuZUNhY2hlLmRlbGV0ZShrZXkpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZmxhdHRlbmVkUm91dGVyUGFuZXMsXG4gICAgICAgIGNhY2hlS2V5c0J5RmxhdEluZGV4LFxuICAgICAgICByZXNvbHZlZFBhbmVDYWNoZSxcbiAgICAgICAgcmVzb2x2ZVBhbmU6IGNyZWF0ZVBhbmVSZXNvbHZlcigobmV4dEZuKSA9PiAodW5yZXNvbHZlZFBhbmUsIGNvbnRleHQsIGZsYXRJbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGtleSA9IHVucmVzb2x2ZWRQYW5lICYmIGAke2Fzc2lnbklkKHVucmVzb2x2ZWRQYW5lKX0tJHtoYXNoQ29udGV4dChjb250ZXh0KX1gLCBjYWNoZWRSZXNvbHZlZFBhbmUgPSBrZXkgJiYgcmVzb2x2ZWRQYW5lQ2FjaGUuZ2V0KGtleSk7XG4gICAgICAgICAgaWYgKGNhY2hlZFJlc29sdmVkUGFuZSkgcmV0dXJuIGNhY2hlZFJlc29sdmVkUGFuZTtcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXh0Rm4odW5yZXNvbHZlZFBhbmUsIGNvbnRleHQsIGZsYXRJbmRleCk7XG4gICAgICAgICAgaWYgKCFrZXkpIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgY29uc3QgY2FjaGVLZXlTZXQgPSBjYWNoZUtleXNCeUZsYXRJbmRleFtmbGF0SW5kZXhdIHx8IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlS2V5U2V0LmFkZChrZXkpLCBjYWNoZUtleXNCeUZsYXRJbmRleFtmbGF0SW5kZXhdID0gY2FjaGVLZXlTZXQsIHJlc29sdmVkUGFuZUNhY2hlLnNldChrZXksIHJlc3VsdCksIHJlc3VsdDtcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfSwgaW5pdGlhbENhY2hlU3RhdGUpLFxuICAgIC8vIHJ1biB0aGUgbWVtb2l6ZWQsIHJlY3Vyc2l2ZSByZXNvbHZpbmdcbiAgICBzd2l0Y2hNYXAoKHtcbiAgICAgIGZsYXR0ZW5lZFJvdXRlclBhbmVzLFxuICAgICAgcmVzb2x2ZVBhbmVcbiAgICB9KSA9PiByZXNvbHZlUGFuZVRyZWUoe1xuICAgICAgdW5yZXNvbHZlZFBhbmU6IHJvb3RQYW5lTm9kZSxcbiAgICAgIGZsYXR0ZW5lZFJvdXRlclBhbmVzLFxuICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgcGF0aDogW10sXG4gICAgICByZXNvbHZlUGFuZSxcbiAgICAgIHN0cnVjdHVyZUNvbnRleHRcbiAgICB9KSlcbiAgKS5waXBlKFxuICAgIC8vIHRoaXMgZGlmZnMgdGhlIHByZXZpb3VzIGVtaXNzaW9uIHdpdGggdGhlIGN1cnJlbnQgb25lLiBpZiB0aGVyZSBpcyBhIG5ld1xuICAgIC8vIGxvYWRpbmcgcGFuZSBhdCB0aGUgc2FtZSBwb3NpdGlvbiB3aGVyZSBhIHByZXZpb3VzIHBhbmUgYWxyZWFkeSBoYWQgYVxuICAgIC8vIHJlc29sdmVkIHZhbHVlIChsb29raW5nIGF0IHRoZSBJRHMgdG8gY29tcGFyZSksIHRoZW4gcmV0dXJuIHRoZSBwcmV2aW91c1xuICAgIC8vIHBhbmUgaW5zdGVhZCBvZiB0aGUgbG9hZGluZyBwYW5lXG4gICAgc2NhbigocHJldiwgbmV4dCkgPT4gbmV4dC5tYXAoKG5leHRQYW5lLCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgcHJldlBhbmUgPSBwcmV2W2luZGV4XTtcbiAgICAgIHJldHVybiAhcHJldlBhbmUgfHwgbmV4dFBhbmUudHlwZSAhPT0gXCJsb2FkaW5nXCIgPyBuZXh0UGFuZSA6IHByZXZQYW5lLnJvdXRlclBhbmVTaWJsaW5nLmlkID09PSBuZXh0UGFuZS5yb3V0ZXJQYW5lU2libGluZy5pZCA/IHByZXZQYW5lIDogbmV4dFBhbmU7XG4gICAgfSksIFtdKSxcbiAgICAvLyB0aGlzIHByZXZlbnRzIGR1cGxpY2F0ZSBlbWlzc2lvbnNcbiAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgocHJldiwgbmV4dCkgPT4ge1xuICAgICAgaWYgKHByZXYubGVuZ3RoICE9PSBuZXh0Lmxlbmd0aCkgcmV0dXJuICExO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHByZXZWYWx1ZSA9IHByZXZbaV0sIG5leHRWYWx1ZSA9IG5leHRbaV07XG4gICAgICAgIGlmIChoYXNoUmVzb2x2ZWRQYW5lTWV0YShwcmV2VmFsdWUpICE9PSBoYXNoUmVzb2x2ZWRQYW5lTWV0YShuZXh0VmFsdWUpKVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAhMDtcbiAgICB9KVxuICApO1xufVxuZnVuY3Rpb24gdXNlUm91dGVyUGFuZXNTdHJlYW0oKSB7XG4gIGNvbnN0ICQgPSBjKDYpLCBbcm91dGVyU3RhdGVTdWJqZWN0XSA9IHVzZVN0YXRlKF90ZW1wJDUpO1xuICBsZXQgdDA7XG4gICRbMF0gIT09IHJvdXRlclN0YXRlU3ViamVjdCA/ICh0MCA9IHJvdXRlclN0YXRlU3ViamVjdC5hc09ic2VydmFibGUoKS5waXBlKG1hcChfdGVtcDIkMykpLCAkWzBdID0gcm91dGVyU3RhdGVTdWJqZWN0LCAkWzFdID0gdDApIDogdDAgPSAkWzFdO1xuICBjb25zdCByb3V0ZXJQYW5lcyQgPSB0MCwge1xuICAgIHN0YXRlOiByb3V0ZXJTdGF0ZVxuICB9ID0gdXNlUm91dGVyKCk7XG4gIGxldCB0MSwgdDI7XG4gIHJldHVybiAkWzJdICE9PSByb3V0ZXJTdGF0ZSB8fCAkWzNdICE9PSByb3V0ZXJTdGF0ZVN1YmplY3QgPyAodDEgPSAoKSA9PiB7XG4gICAgcm91dGVyU3RhdGVTdWJqZWN0Lm5leHQocm91dGVyU3RhdGUpO1xuICB9LCB0MiA9IFtyb3V0ZXJTdGF0ZSwgcm91dGVyU3RhdGVTdWJqZWN0XSwgJFsyXSA9IHJvdXRlclN0YXRlLCAkWzNdID0gcm91dGVyU3RhdGVTdWJqZWN0LCAkWzRdID0gdDEsICRbNV0gPSB0MikgOiAodDEgPSAkWzRdLCB0MiA9ICRbNV0pLCB1c2VFZmZlY3QodDEsIHQyKSwgcm91dGVyUGFuZXMkO1xufVxuZnVuY3Rpb24gX3RlbXAyJDMoX3JvdXRlclN0YXRlKSB7XG4gIHJldHVybiBfcm91dGVyU3RhdGU/LnBhbmVzIHx8IFtdO1xufVxuZnVuY3Rpb24gX3RlbXAkNSgpIHtcbiAgcmV0dXJuIG5ldyBSZXBsYXlTdWJqZWN0KDEpO1xufVxuZnVuY3Rpb24gdXNlUmVzb2x2ZWRQYW5lcygpIHtcbiAgY29uc3QgJCA9IGMoNiksIFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoKTtcbiAgaWYgKGVycm9yKVxuICAgIHRocm93IGVycm9yO1xuICBjb25zdCB7XG4gICAgc3RydWN0dXJlQ29udGV4dCxcbiAgICByb290UGFuZU5vZGVcbiAgfSA9IHVzZVN0cnVjdHVyZVRvb2woKTtcbiAgbGV0IHQwO1xuICAkWzBdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSA/ICh0MCA9IHtcbiAgICBwYW5lRGF0YUl0ZW1zOiBbXSxcbiAgICByZXNvbHZlZFBhbmVzOiBbXSxcbiAgICByb3V0ZXJQYW5lczogW11cbiAgfSwgJFswXSA9IHQwKSA6IHQwID0gJFswXTtcbiAgY29uc3QgW2RhdGEsIHNldERhdGFdID0gdXNlU3RhdGUodDApLCByb3V0ZXJQYW5lc1N0cmVhbSA9IHVzZVJvdXRlclBhbmVzU3RyZWFtKCk7XG4gIGxldCB0MSwgdDI7XG4gIHJldHVybiAkWzFdICE9PSByb290UGFuZU5vZGUgfHwgJFsyXSAhPT0gcm91dGVyUGFuZXNTdHJlYW0gfHwgJFszXSAhPT0gc3RydWN0dXJlQ29udGV4dCA/ICh0MSA9ICgpID0+IHtcbiAgICBjb25zdCBzdWJzY3JpcHRpb24gPSBjcmVhdGVSZXNvbHZlZFBhbmVOb2RlU3RyZWFtKHtcbiAgICAgIHJvb3RQYW5lTm9kZSxcbiAgICAgIHJvdXRlclBhbmVzU3RyZWFtLFxuICAgICAgc3RydWN0dXJlQ29udGV4dFxuICAgIH0pLnBpcGUobWFwKF90ZW1wNSkpLnN1YnNjcmliZSh7XG4gICAgICBuZXh0OiAocmVzdWx0KSA9PiBzZXREYXRhKHJlc3VsdCksXG4gICAgICBlcnJvcjogKGUpID0+IHNldEVycm9yKGUpXG4gICAgfSk7XG4gICAgcmV0dXJuICgpID0+IHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICB9LCB0MiA9IFtyb290UGFuZU5vZGUsIHJvdXRlclBhbmVzU3RyZWFtLCBzdHJ1Y3R1cmVDb250ZXh0XSwgJFsxXSA9IHJvb3RQYW5lTm9kZSwgJFsyXSA9IHJvdXRlclBhbmVzU3RyZWFtLCAkWzNdID0gc3RydWN0dXJlQ29udGV4dCwgJFs0XSA9IHQxLCAkWzVdID0gdDIpIDogKHQxID0gJFs0XSwgdDIgPSAkWzVdKSwgdXNlRWZmZWN0KHQxLCB0MiksIGRhdGE7XG59XG5mdW5jdGlvbiBfdGVtcDUocmVzb2x2ZWRQYW5lcykge1xuICBjb25zdCByb3V0ZXJQYW5lcyA9IHJlc29sdmVkUGFuZXMucmVkdWNlKF90ZW1wMywgW10pLCBncm91cHNMZW4gPSByb3V0ZXJQYW5lcy5sZW5ndGgsIHBhbmVEYXRhSXRlbXMgPSByZXNvbHZlZFBhbmVzLm1hcCgocGFuZSkgPT4ge1xuICAgIGNvbnN0IHtcbiAgICAgIGdyb3VwSW5kZXgsXG4gICAgICBmbGF0SW5kZXgsXG4gICAgICBzaWJsaW5nSW5kZXgsXG4gICAgICByb3V0ZXJQYW5lU2libGluZyxcbiAgICAgIHBhdGhcbiAgICB9ID0gcGFuZSwgaXRlbUlkID0gcm91dGVyUGFuZVNpYmxpbmcuaWQsIG5leHRHcm91cCA9IHJvdXRlclBhbmVzW2dyb3VwSW5kZXggKyAxXTtcbiAgICByZXR1cm4ge1xuICAgICAgYWN0aXZlOiBncm91cEluZGV4ID09PSBncm91cHNMZW4gLSAyLFxuICAgICAgY2hpbGRJdGVtSWQ6IG5leHRHcm91cD8uWzBdLmlkID8/IG51bGwsXG4gICAgICBpbmRleDogZmxhdEluZGV4LFxuICAgICAgaXRlbUlkOiByb3V0ZXJQYW5lU2libGluZy5pZCxcbiAgICAgIGdyb3VwSW5kZXgsXG4gICAgICBrZXk6IGAke3BhbmUudHlwZSA9PT0gXCJsb2FkaW5nXCIgPyBcInVua25vd25cIiA6IHBhbmUucGFuZU5vZGUuaWR9LSR7aXRlbUlkfS0ke3NpYmxpbmdJbmRleH1gLFxuICAgICAgcGFuZTogcGFuZS50eXBlID09PSBcImxvYWRpbmdcIiA/IExPQURJTkdfUEFORSA6IHBhbmUucGFuZU5vZGUsXG4gICAgICBwYXJhbXM6IHJvdXRlclBhbmVTaWJsaW5nLnBhcmFtcyB8fCB7fSxcbiAgICAgIHBhdGg6IHBhdGguam9pbihcIjtcIiksXG4gICAgICBwYXlsb2FkOiByb3V0ZXJQYW5lU2libGluZy5wYXlsb2FkLFxuICAgICAgc2VsZWN0ZWQ6IGZsYXRJbmRleCA9PT0gcmVzb2x2ZWRQYW5lcy5sZW5ndGggLSAxLFxuICAgICAgc2libGluZ0luZGV4XG4gICAgfTtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgcGFuZURhdGFJdGVtcyxcbiAgICByb3V0ZXJQYW5lcyxcbiAgICByZXNvbHZlZFBhbmVzOiBwYW5lRGF0YUl0ZW1zLm1hcChfdGVtcDQpXG4gIH07XG59XG5mdW5jdGlvbiBfdGVtcDQocGFuZV8wKSB7XG4gIHJldHVybiBwYW5lXzAucGFuZTtcbn1cbmZ1bmN0aW9uIF90ZW1wMyhhY2MsIG5leHQpIHtcbiAgY29uc3QgY3VycmVudEdyb3VwID0gYWNjW25leHQuZ3JvdXBJbmRleF0gfHwgW107XG4gIHJldHVybiBjdXJyZW50R3JvdXBbbmV4dC5zaWJsaW5nSW5kZXhdID0gbmV4dC5yb3V0ZXJQYW5lU2libGluZywgYWNjW25leHQuZ3JvdXBJbmRleF0gPSBjdXJyZW50R3JvdXAsIGFjYztcbn1cbmFzeW5jIGZ1bmN0aW9uIGVuc3VyZURvY3VtZW50SWRBbmRUeXBlKGRvY3VtZW50U3RvcmUsIGlkLCB0eXBlKSB7XG4gIGlmIChpZCAmJiB0eXBlKSByZXR1cm4ge1xuICAgIGlkLFxuICAgIHR5cGVcbiAgfTtcbiAgaWYgKCFpZCAmJiB0eXBlKSByZXR1cm4ge1xuICAgIGlkOiB1dWlkKCksXG4gICAgdHlwZVxuICB9O1xuICBpZiAoaWQgJiYgIXR5cGUpIHtcbiAgICBjb25zdCByZXNvbHZlZFR5cGUgPSBhd2FpdCBmaXJzdFZhbHVlRnJvbShkb2N1bWVudFN0b3JlLnJlc29sdmVUeXBlRm9yRG9jdW1lbnQoaWQpKTtcbiAgICByZXR1cm4ge1xuICAgICAgaWQsXG4gICAgICB0eXBlOiByZXNvbHZlZFR5cGVcbiAgICB9O1xuICB9XG4gIHRocm93IG5ldyBQYW5lUmVzb2x1dGlvbkVycm9yKHtcbiAgICBtZXNzYWdlOiBcIk5laXRoZXIgZG9jdW1lbnQgYGlkYCBvciBgdHlwZWAgd2FzIHByb3ZpZGVkIHdoZW4gdHJ5aW5nIHRvIHJlc29sdmUgaW50ZW50LlwiXG4gIH0pO1xufVxuY29uc3QgRU1QVFlfUkVDT1JEID0ge30sIEludGVudFJlc29sdmVyID0gbWVtbyhmdW5jdGlvbigpIHtcbiAgY29uc3QgJCA9IGMoNyksIHtcbiAgICBuYXZpZ2F0ZVxuICB9ID0gdXNlUm91dGVyKCksIG1heWJlSW50ZW50ID0gdXNlUm91dGVyU3RhdGUoX3RlbXAkNCksIHtcbiAgICByb290UGFuZU5vZGUsXG4gICAgc3RydWN0dXJlQ29udGV4dFxuICB9ID0gdXNlU3RydWN0dXJlVG9vbCgpLCBkb2N1bWVudFN0b3JlID0gdXNlRG9jdW1lbnRTdG9yZSgpLCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKG51bGwpO1xuICBpZiAoZXJyb3IpXG4gICAgdGhyb3cgZXJyb3I7XG4gIGxldCB0MCwgdDE7XG4gIHJldHVybiAkWzBdICE9PSBkb2N1bWVudFN0b3JlIHx8ICRbMV0gIT09IG1heWJlSW50ZW50IHx8ICRbMl0gIT09IG5hdmlnYXRlIHx8ICRbM10gIT09IHJvb3RQYW5lTm9kZSB8fCAkWzRdICE9PSBzdHJ1Y3R1cmVDb250ZXh0ID8gKHQwID0gKCkgPT4ge1xuICAgIGlmIChtYXliZUludGVudCkge1xuICAgICAgY29uc3Qge1xuICAgICAgICBpbnRlbnQsXG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgcGF5bG9hZFxuICAgICAgfSA9IG1heWJlSW50ZW50O1xuICAgICAgbGV0IGNhbmNlbGxlZCA9ICExO1xuICAgICAgcmV0dXJuIChhc3luYyBmdW5jdGlvbigpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgIGlkLFxuICAgICAgICAgIHR5cGVcbiAgICAgICAgfSA9IGF3YWl0IGVuc3VyZURvY3VtZW50SWRBbmRUeXBlKGRvY3VtZW50U3RvcmUsIHR5cGVvZiBwYXJhbXMuaWQgPT0gXCJzdHJpbmdcIiA/IHBhcmFtcy5pZCA6IHZvaWQgMCwgdHlwZW9mIHBhcmFtcy50eXBlID09IFwic3RyaW5nXCIgPyBwYXJhbXMudHlwZSA6IHZvaWQgMCk7XG4gICAgICAgIGlmIChjYW5jZWxsZWQpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBwYW5lcyA9IGF3YWl0IHJlc29sdmVJbnRlbnQoe1xuICAgICAgICAgIGludGVudCxcbiAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgdHlwZVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICByb290UGFuZU5vZGUsXG4gICAgICAgICAgc3RydWN0dXJlQ29udGV4dFxuICAgICAgICB9KTtcbiAgICAgICAgY2FuY2VsbGVkIHx8IG5hdmlnYXRlKHtcbiAgICAgICAgICBwYW5lc1xuICAgICAgICB9LCB7XG4gICAgICAgICAgcmVwbGFjZTogITBcbiAgICAgICAgfSk7XG4gICAgICB9KSgpLmNhdGNoKHNldEVycm9yKSwgKCkgPT4ge1xuICAgICAgICBjYW5jZWxsZWQgPSAhMDtcbiAgICAgIH07XG4gICAgfVxuICB9LCB0MSA9IFtkb2N1bWVudFN0b3JlLCBtYXliZUludGVudCwgbmF2aWdhdGUsIHJvb3RQYW5lTm9kZSwgc3RydWN0dXJlQ29udGV4dF0sICRbMF0gPSBkb2N1bWVudFN0b3JlLCAkWzFdID0gbWF5YmVJbnRlbnQsICRbMl0gPSBuYXZpZ2F0ZSwgJFszXSA9IHJvb3RQYW5lTm9kZSwgJFs0XSA9IHN0cnVjdHVyZUNvbnRleHQsICRbNV0gPSB0MCwgJFs2XSA9IHQxKSA6ICh0MCA9ICRbNV0sIHQxID0gJFs2XSksIHVzZUVmZmVjdCh0MCwgdDEpLCBudWxsO1xufSk7XG5mdW5jdGlvbiBfdGVtcCQ0KHJvdXRlclN0YXRlKSB7XG4gIGNvbnN0IGludGVudE5hbWUgPSB0eXBlb2Ygcm91dGVyU3RhdGUuaW50ZW50ID09IFwic3RyaW5nXCIgPyByb3V0ZXJTdGF0ZS5pbnRlbnQgOiB2b2lkIDA7XG4gIHJldHVybiBpbnRlbnROYW1lID8ge1xuICAgIGludGVudDogaW50ZW50TmFtZSxcbiAgICBwYXJhbXM6IGlzUmVjb3JkKHJvdXRlclN0YXRlLnBhcmFtcykgPyByb3V0ZXJTdGF0ZS5wYXJhbXMgOiBFTVBUWV9SRUNPUkQsXG4gICAgcGF5bG9hZDogcm91dGVyU3RhdGUucGF5bG9hZFxuICB9IDogdm9pZCAwO1xufVxuY29uc3QgUGF0aFNlZ21lbnQgPSBzdHlsZWQuc3BhbmBcbiAgJjpub3QoOmxhc3QtY2hpbGQpOjphZnRlciB7XG4gICAgY29udGVudDogJyDinp0gJztcbiAgICBvcGFjaXR5OiAwLjU7XG4gIH1cbmA7XG5mdW5jdGlvbiBmb3JtYXRTdGFjayhzdGFjaykge1xuICByZXR1cm4gc3RhY2sucmVwbGFjZSgvXFwoXFwuXFwuXFwuXFwpXFwuL2csIGAoLi4uKVxuICAuYCkucmVwbGFjZSgvX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV9cXGQrXysvZywgXCJcIikucmVwbGFjZSgvX19fZGVmYXVsdFxcLi9nLCBcIi5cIikucmVwbGFjZShuZXcgUmVnRXhwKGAgXFxcXChodHRwcz86XFxcXC9cXFxcLyR7d2luZG93LmxvY2F0aW9uLmhvc3R9YCwgXCJnXCIpLCBcIiAoXCIpO1xufVxuZnVuY3Rpb24gU3RydWN0dXJlRXJyb3IodDApIHtcbiAgY29uc3QgJCA9IGMoNzQpLCB7XG4gICAgZXJyb3JcbiAgfSA9IHQwO1xuICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIFBhbmVSZXNvbHV0aW9uRXJyb3IpKVxuICAgIHRocm93IGVycm9yO1xuICBjb25zdCB7XG4gICAgY2F1c2VcbiAgfSA9IGVycm9yLCB7XG4gICAgdFxuICB9ID0gdXNlVHJhbnNsYXRpb24oc3RydWN0dXJlTG9jYWxlTmFtZXNwYWNlKSwgc3RhY2sgPSBjYXVzZT8uc3RhY2sgfHwgZXJyb3Iuc3RhY2s7XG4gIGxldCB0MTtcbiAgJFswXSAhPT0gY2F1c2UgfHwgJFsxXSAhPT0gZXJyb3IubWVzc2FnZSB8fCAkWzJdICE9PSBzdGFjayA/ICh0MSA9IHN0YWNrICYmICEoY2F1c2UgaW5zdGFuY2VvZiBTZXJpYWxpemVFcnJvcikgJiYgIWVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJNb2R1bGUgYnVpbGQgZmFpbGVkOlwiKSwgJFswXSA9IGNhdXNlLCAkWzFdID0gZXJyb3IubWVzc2FnZSwgJFsyXSA9IHN0YWNrLCAkWzNdID0gdDEpIDogdDEgPSAkWzNdO1xuICBjb25zdCBzaG93U3RhY2sgPSB0MTtcbiAgbGV0IFQwLCBUMSwgVDIsIGhhbmRsZVJlbG9hZCwgaGVscElkLCB0MTAsIHQxMSwgdDEyLCB0MTMsIHQxNCwgdDIsIHQzLCB0NCwgdDUsIHQ2LCB0NywgdDgsIHQ5O1xuICBpZiAoJFs0XSAhPT0gY2F1c2UgfHwgJFs1XSAhPT0gZXJyb3IuaGVscElkIHx8ICRbNl0gIT09IHQpIHtcbiAgICBjb25zdCBwYXRoID0gY2F1c2UgaW5zdGFuY2VvZiBTZXJpYWxpemVFcnJvciA/IGNhdXNlLnBhdGggOiBbXTtcbiAgICBoZWxwSWQgPSBjYXVzZSBpbnN0YW5jZW9mIFNlcmlhbGl6ZUVycm9yICYmIGNhdXNlLmhlbHBJZCB8fCBlcnJvci5oZWxwSWQsIGhhbmRsZVJlbG9hZCA9IF90ZW1wJDMsIFQyID0gQ2FyZCwgdDEwID0gXCJmaWxsXCIsIHQxMSA9IFwiYXV0b1wiLCB0MTIgPSA0LCB0MTMgPSBcImJvcmRlclwiLCB0MTQgPSBcImNyaXRpY2FsXCIsIFQxID0gQ29udGFpbmVyO1xuICAgIGxldCB0MTUyO1xuICAgICRbMjVdICE9PSB0ID8gKHQxNTIgPSB0KFwic3RydWN0dXJlLWVycm9yLmhlYWRlci50ZXh0XCIpLCAkWzI1XSA9IHQsICRbMjZdID0gdDE1MikgOiB0MTUyID0gJFsyNl0sICRbMjddICE9PSB0MTUyID8gKHQ5ID0gLyogQF9fUFVSRV9fICovIGpzeChIZWFkaW5nLCB7IGFzOiBcImgyXCIsIGNoaWxkcmVuOiB0MTUyIH0pLCAkWzI3XSA9IHQxNTIsICRbMjhdID0gdDkpIDogdDkgPSAkWzI4XSwgVDAgPSBDYXJkLCB0MiA9IDQsIHQzID0gNCwgdDQgPSAyLCB0NSA9IFwiYXV0b1wiLCB0NiA9IDEsIHQ3ID0gXCJpbmhlcml0XCIsIHQ4ID0gcGF0aC5sZW5ndGggPiAwICYmIC8qIEBfX1BVUkVfXyAqLyBqc3hzKFN0YWNrLCB7IHNwYWNlOiAyLCBjaGlsZHJlbjogW1xuICAgICAgLyogQF9fUFVSRV9fICovIGpzeChUZXh0LCB7IHNpemU6IDEsIHdlaWdodDogXCJtZWRpdW1cIiwgY2hpbGRyZW46IHQoXCJzdHJ1Y3R1cmUtZXJyb3Iuc3RydWN0dXJlLXBhdGgubGFiZWxcIikgfSksXG4gICAgICAvKiBAX19QVVJFX18gKi8ganN4KENvZGUsIHsgY2hpbGRyZW46IHBhdGguc2xpY2UoMSkubWFwKF90ZW1wMiQyKSB9KVxuICAgIF0gfSksICRbNF0gPSBjYXVzZSwgJFs1XSA9IGVycm9yLmhlbHBJZCwgJFs2XSA9IHQsICRbN10gPSBUMCwgJFs4XSA9IFQxLCAkWzldID0gVDIsICRbMTBdID0gaGFuZGxlUmVsb2FkLCAkWzExXSA9IGhlbHBJZCwgJFsxMl0gPSB0MTAsICRbMTNdID0gdDExLCAkWzE0XSA9IHQxMiwgJFsxNV0gPSB0MTMsICRbMTZdID0gdDE0LCAkWzE3XSA9IHQyLCAkWzE4XSA9IHQzLCAkWzE5XSA9IHQ0LCAkWzIwXSA9IHQ1LCAkWzIxXSA9IHQ2LCAkWzIyXSA9IHQ3LCAkWzIzXSA9IHQ4LCAkWzI0XSA9IHQ5O1xuICB9IGVsc2VcbiAgICBUMCA9ICRbN10sIFQxID0gJFs4XSwgVDIgPSAkWzldLCBoYW5kbGVSZWxvYWQgPSAkWzEwXSwgaGVscElkID0gJFsxMV0sIHQxMCA9ICRbMTJdLCB0MTEgPSAkWzEzXSwgdDEyID0gJFsxNF0sIHQxMyA9ICRbMTVdLCB0MTQgPSAkWzE2XSwgdDIgPSAkWzE3XSwgdDMgPSAkWzE4XSwgdDQgPSAkWzE5XSwgdDUgPSAkWzIwXSwgdDYgPSAkWzIxXSwgdDcgPSAkWzIyXSwgdDggPSAkWzIzXSwgdDkgPSAkWzI0XTtcbiAgbGV0IHQxNTtcbiAgJFsyOV0gIT09IHQgPyAodDE1ID0gdChcInN0cnVjdHVyZS1lcnJvci5lcnJvci5sYWJlbFwiKSwgJFsyOV0gPSB0LCAkWzMwXSA9IHQxNSkgOiB0MTUgPSAkWzMwXTtcbiAgbGV0IHQxNjtcbiAgJFszMV0gIT09IHQxNSA/ICh0MTYgPSAvKiBAX19QVVJFX18gKi8ganN4KFRleHQsIHsgc2l6ZTogMSwgd2VpZ2h0OiBcIm1lZGl1bVwiLCBjaGlsZHJlbjogdDE1IH0pLCAkWzMxXSA9IHQxNSwgJFszMl0gPSB0MTYpIDogdDE2ID0gJFszMl07XG4gIGxldCB0MTc7XG4gICRbMzNdICE9PSBlcnJvci5tZXNzYWdlIHx8ICRbMzRdICE9PSBzaG93U3RhY2sgfHwgJFszNV0gIT09IHN0YWNrID8gKHQxNyA9IHNob3dTdGFjayA/IGZvcm1hdFN0YWNrKHN0YWNrKSA6IGVycm9yLm1lc3NhZ2UsICRbMzNdID0gZXJyb3IubWVzc2FnZSwgJFszNF0gPSBzaG93U3RhY2ssICRbMzVdID0gc3RhY2ssICRbMzZdID0gdDE3KSA6IHQxNyA9ICRbMzZdO1xuICBsZXQgdDE4O1xuICAkWzM3XSAhPT0gdDE3ID8gKHQxOCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQ29kZSwgeyBjaGlsZHJlbjogdDE3IH0pLCAkWzM3XSA9IHQxNywgJFszOF0gPSB0MTgpIDogdDE4ID0gJFszOF07XG4gIGxldCB0MTk7XG4gICRbMzldICE9PSB0MTYgfHwgJFs0MF0gIT09IHQxOCA/ICh0MTkgPSAvKiBAX19QVVJFX18gKi8ganN4cyhTdGFjaywgeyBtYXJnaW5Ub3A6IDQsIHNwYWNlOiAyLCBjaGlsZHJlbjogW1xuICAgIHQxNixcbiAgICB0MThcbiAgXSB9KSwgJFszOV0gPSB0MTYsICRbNDBdID0gdDE4LCAkWzQxXSA9IHQxOSkgOiB0MTkgPSAkWzQxXTtcbiAgbGV0IHQyMDtcbiAgJFs0Ml0gIT09IGhlbHBJZCB8fCAkWzQzXSAhPT0gdCA/ICh0MjAgPSBoZWxwSWQgJiYgLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgbWFyZ2luVG9wOiA0LCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChUZXh0LCB7IGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFwiYVwiLCB7IGhyZWY6IGdlbmVyYXRlSGVscFVybChoZWxwSWQpLCByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlclwiLCB0YXJnZXQ6IFwiX2JsYW5rXCIsIGNoaWxkcmVuOiB0KFwic3RydWN0dXJlLWVycm9yLmRvY3MtbGluay50ZXh0XCIpIH0pIH0pIH0pLCAkWzQyXSA9IGhlbHBJZCwgJFs0M10gPSB0LCAkWzQ0XSA9IHQyMCkgOiB0MjAgPSAkWzQ0XTtcbiAgbGV0IHQyMTtcbiAgJFs0NV0gIT09IHQgPyAodDIxID0gdChcInN0cnVjdHVyZS1lcnJvci5yZWxvYWQtYnV0dG9uLnRleHRcIiksICRbNDVdID0gdCwgJFs0Nl0gPSB0MjEpIDogdDIxID0gJFs0Nl07XG4gIGxldCB0MjI7XG4gICRbNDddICE9PSBoYW5kbGVSZWxvYWQgfHwgJFs0OF0gIT09IHQyMSA/ICh0MjIgPSAvKiBAX19QVVJFX18gKi8ganN4KEJveCwgeyBtYXJnaW5Ub3A6IDQsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KEJ1dHRvbiwgeyB0ZXh0OiB0MjEsIGljb246IFN5bmNJY29uLCB0b25lOiBcInByaW1hcnlcIiwgb25DbGljazogaGFuZGxlUmVsb2FkIH0pIH0pLCAkWzQ3XSA9IGhhbmRsZVJlbG9hZCwgJFs0OF0gPSB0MjEsICRbNDldID0gdDIyKSA6IHQyMiA9ICRbNDldO1xuICBsZXQgdDIzO1xuICAkWzUwXSAhPT0gVDAgfHwgJFs1MV0gIT09IHQxOSB8fCAkWzUyXSAhPT0gdDIgfHwgJFs1M10gIT09IHQyMCB8fCAkWzU0XSAhPT0gdDIyIHx8ICRbNTVdICE9PSB0MyB8fCAkWzU2XSAhPT0gdDQgfHwgJFs1N10gIT09IHQ1IHx8ICRbNThdICE9PSB0NiB8fCAkWzU5XSAhPT0gdDcgfHwgJFs2MF0gIT09IHQ4ID8gKHQyMyA9IC8qIEBfX1BVUkVfXyAqLyBqc3hzKFQwLCB7IG1hcmdpblRvcDogdDIsIHBhZGRpbmc6IHQzLCByYWRpdXM6IHQ0LCBvdmVyZmxvdzogdDUsIHNoYWRvdzogdDYsIHRvbmU6IHQ3LCBjaGlsZHJlbjogW1xuICAgIHQ4LFxuICAgIHQxOSxcbiAgICB0MjAsXG4gICAgdDIyXG4gIF0gfSksICRbNTBdID0gVDAsICRbNTFdID0gdDE5LCAkWzUyXSA9IHQyLCAkWzUzXSA9IHQyMCwgJFs1NF0gPSB0MjIsICRbNTVdID0gdDMsICRbNTZdID0gdDQsICRbNTddID0gdDUsICRbNThdID0gdDYsICRbNTldID0gdDcsICRbNjBdID0gdDgsICRbNjFdID0gdDIzKSA6IHQyMyA9ICRbNjFdO1xuICBsZXQgdDI0O1xuICAkWzYyXSAhPT0gVDEgfHwgJFs2M10gIT09IHQyMyB8fCAkWzY0XSAhPT0gdDkgPyAodDI0ID0gLyogQF9fUFVSRV9fICovIGpzeHMoVDEsIHsgY2hpbGRyZW46IFtcbiAgICB0OSxcbiAgICB0MjNcbiAgXSB9KSwgJFs2Ml0gPSBUMSwgJFs2M10gPSB0MjMsICRbNjRdID0gdDksICRbNjVdID0gdDI0KSA6IHQyNCA9ICRbNjVdO1xuICBsZXQgdDI1O1xuICByZXR1cm4gJFs2Nl0gIT09IFQyIHx8ICRbNjddICE9PSB0MTAgfHwgJFs2OF0gIT09IHQxMSB8fCAkWzY5XSAhPT0gdDEyIHx8ICRbNzBdICE9PSB0MTMgfHwgJFs3MV0gIT09IHQxNCB8fCAkWzcyXSAhPT0gdDI0ID8gKHQyNSA9IC8qIEBfX1BVUkVfXyAqLyBqc3goVDIsIHsgaGVpZ2h0OiB0MTAsIG92ZXJmbG93OiB0MTEsIHBhZGRpbmc6IHQxMiwgc2l6aW5nOiB0MTMsIHRvbmU6IHQxNCwgY2hpbGRyZW46IHQyNCB9KSwgJFs2Nl0gPSBUMiwgJFs2N10gPSB0MTAsICRbNjhdID0gdDExLCAkWzY5XSA9IHQxMiwgJFs3MF0gPSB0MTMsICRbNzFdID0gdDE0LCAkWzcyXSA9IHQyNCwgJFs3M10gPSB0MjUpIDogdDI1ID0gJFs3M10sIHQyNTtcbn1cbmZ1bmN0aW9uIF90ZW1wMiQyKHNlZ21lbnQsIGkpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBqc3goUGF0aFNlZ21lbnQsIHsgY2hpbGRyZW46IHNlZ21lbnQgfSwgYCR7c2VnbWVudH0tJHtpfWApO1xufVxuZnVuY3Rpb24gX3RlbXAkMygpIHtcbiAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xufVxuZnVuY3Rpb24gTm9Eb2N1bWVudFR5cGVzU2NyZWVuKCkge1xuICBjb25zdCAkID0gYygxNyksIHtcbiAgICB0XG4gIH0gPSB1c2VUcmFuc2xhdGlvbihzdHJ1Y3R1cmVMb2NhbGVOYW1lc3BhY2UpO1xuICBsZXQgdDA7XG4gICRbMF0gPT09IFN5bWJvbC5mb3IoXCJyZWFjdC5tZW1vX2NhY2hlX3NlbnRpbmVsXCIpID8gKHQwID0gLyogQF9fUFVSRV9fICovIGpzeChCb3gsIHsgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goVGV4dCwgeyBzaXplOiAxLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChXYXJuaW5nT3V0bGluZUljb24sIHt9KSB9KSB9KSwgJFswXSA9IHQwKSA6IHQwID0gJFswXTtcbiAgbGV0IHQxO1xuICAkWzFdICE9PSB0ID8gKHQxID0gdChcIm5vLWRvY3VtZW50LXR5cGVzLXNjcmVlbi50aXRsZVwiKSwgJFsxXSA9IHQsICRbMl0gPSB0MSkgOiB0MSA9ICRbMl07XG4gIGxldCB0MjtcbiAgJFszXSAhPT0gdDEgPyAodDIgPSAvKiBAX19QVVJFX18gKi8ganN4KFRleHQsIHsgYXM6IFwiaDFcIiwgc2l6ZTogMSwgd2VpZ2h0OiBcIm1lZGl1bVwiLCBjaGlsZHJlbjogdDEgfSksICRbM10gPSB0MSwgJFs0XSA9IHQyKSA6IHQyID0gJFs0XTtcbiAgbGV0IHQzO1xuICAkWzVdICE9PSB0ID8gKHQzID0gdChcIm5vLWRvY3VtZW50LXR5cGVzLXNjcmVlbi5zdWJ0aXRsZVwiKSwgJFs1XSA9IHQsICRbNl0gPSB0MykgOiB0MyA9ICRbNl07XG4gIGxldCB0NDtcbiAgJFs3XSAhPT0gdDMgPyAodDQgPSAvKiBAX19QVVJFX18gKi8ganN4KFRleHQsIHsgYXM6IFwicFwiLCBtdXRlZDogITAsIHNpemU6IDEsIGNoaWxkcmVuOiB0MyB9KSwgJFs3XSA9IHQzLCAkWzhdID0gdDQpIDogdDQgPSAkWzhdO1xuICBsZXQgdDU7XG4gICRbOV0gIT09IHQgPyAodDUgPSB0KFwibm8tZG9jdW1lbnQtdHlwZXMtc2NyZWVuLmxpbmstdGV4dFwiKSwgJFs5XSA9IHQsICRbMTBdID0gdDUpIDogdDUgPSAkWzEwXTtcbiAgbGV0IHQ2O1xuICAkWzExXSAhPT0gdDUgPyAodDYgPSAvKiBAX19QVVJFX18gKi8ganN4KFRleHQsIHsgYXM6IFwicFwiLCBtdXRlZDogITAsIHNpemU6IDEsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KFwiYVwiLCB7IGhyZWY6IFwiaHR0cHM6Ly93d3cuc2FuaXR5LmlvL2RvY3MvY3JlYXRlLWEtc2NoZW1hLWFuZC1jb25maWd1cmUtc2FuaXR5LXN0dWRpb1wiLCB0YXJnZXQ6IFwiX2JsYW5rXCIsIHJlbDogXCJub3JlZmVycmVyXCIsIGNoaWxkcmVuOiB0NSB9KSB9KSwgJFsxMV0gPSB0NSwgJFsxMl0gPSB0NikgOiB0NiA9ICRbMTJdO1xuICBsZXQgdDc7XG4gIHJldHVybiAkWzEzXSAhPT0gdDIgfHwgJFsxNF0gIT09IHQ0IHx8ICRbMTVdICE9PSB0NiA/ICh0NyA9IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2FyZCwgeyBoZWlnaHQ6IFwiZmlsbFwiLCBjaGlsZHJlbjogLyogQF9fUFVSRV9fICovIGpzeChGbGV4LCB7IGFsaWduOiBcImNlbnRlclwiLCBoZWlnaHQ6IFwiZmlsbFwiLCBqdXN0aWZ5OiBcImNlbnRlclwiLCBwYWRkaW5nOiA0LCBzaXppbmc6IFwiYm9yZGVyXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4KENvbnRhaW5lciwgeyB3aWR0aDogMCwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goQ2FyZCwgeyBwYWRkaW5nOiA0LCByYWRpdXM6IDIsIHNoYWRvdzogMSwgdG9uZTogXCJjYXV0aW9uXCIsIGNoaWxkcmVuOiAvKiBAX19QVVJFX18gKi8ganN4cyhGbGV4LCB7IGNoaWxkcmVuOiBbXG4gICAgdDAsXG4gICAgLyogQF9fUFVSRV9fICovIGpzeHMoU3RhY2ssIHsgZmxleDogMSwgbWFyZ2luTGVmdDogMywgc3BhY2U6IDMsIGNoaWxkcmVuOiBbXG4gICAgICB0MixcbiAgICAgIHQ0LFxuICAgICAgdDZcbiAgICBdIH0pXG4gIF0gfSkgfSkgfSkgfSkgfSksICRbMTNdID0gdDIsICRbMTRdID0gdDQsICRbMTVdID0gdDYsICRbMTZdID0gdDcpIDogdDcgPSAkWzE2XSwgdDc7XG59XG5jb25zdCBEb2N1bWVudFRpdGxlID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0ICQgPSBjKDcpLCB7XG4gICAgZG9jdW1lbnRJZCxcbiAgICBkb2N1bWVudFR5cGVcbiAgfSA9IHByb3BzLCB7XG4gICAgc2VsZWN0ZWRSZWxlYXNlSWRcbiAgfSA9IHVzZVBlcnNwZWN0aXZlKCksIGVkaXRTdGF0ZSA9IHVzZUVkaXRTdGF0ZShkb2N1bWVudElkLCBkb2N1bWVudFR5cGUsIFwiZGVmYXVsdFwiLCBzZWxlY3RlZFJlbGVhc2VJZCksIHNjaGVtYSA9IHVzZVNjaGVtYSgpLCB7XG4gICAgdFxuICB9ID0gdXNlVHJhbnNsYXRpb24oc3RydWN0dXJlTG9jYWxlTmFtZXNwYWNlKSwgaXNOZXdEb2N1bWVudCA9ICFlZGl0U3RhdGU/LnB1Ymxpc2hlZCAmJiAhZWRpdFN0YXRlPy5kcmFmdCwgZG9jdW1lbnRWYWx1ZSA9IGVkaXRTdGF0ZT8udmVyc2lvbiB8fCBlZGl0U3RhdGU/LmRyYWZ0IHx8IGVkaXRTdGF0ZT8ucHVibGlzaGVkLCBzY2hlbWFUeXBlID0gc2NoZW1hLmdldChkb2N1bWVudFR5cGUpLCB7XG4gICAgdmFsdWUsXG4gICAgaXNMb2FkaW5nOiBwcmV2aWV3VmFsdWVJc0xvYWRpbmdcbiAgfSA9IHVuc3RhYmxlX3VzZVZhbHVlUHJldmlldyh7XG4gICAgZW5hYmxlZDogISFkb2N1bWVudFZhbHVlLFxuICAgIHNjaGVtYVR5cGUsXG4gICAgdmFsdWU6IGRvY3VtZW50VmFsdWVcbiAgfSksIHtcbiAgICBsYXN0UmV2aXNpb25Eb2N1bWVudFxuICB9ID0gdXNlRG9jdW1lbnRMYXN0UmV2KGRvY3VtZW50SWQsIGRvY3VtZW50VHlwZSksIGRvY3VtZW50VGl0bGUgPSBsYXN0UmV2aXNpb25Eb2N1bWVudCAmJiAhZG9jdW1lbnRWYWx1ZSA/IFwiXCIgOiBpc05ld0RvY3VtZW50ID8gdChcImJyb3dzZXItZG9jdW1lbnQtdGl0bGUubmV3LWRvY3VtZW50XCIsIHtcbiAgICBzY2hlbWFUeXBlOiBzY2hlbWFUeXBlPy50aXRsZSB8fCBzY2hlbWFUeXBlPy5uYW1lXG4gIH0pIDogdmFsdWU/LnRpdGxlIHx8IHQoXCJicm93c2VyLWRvY3VtZW50LXRpdGxlLnVudGl0bGVkLWRvY3VtZW50XCIpLCBzZXR0bGVkID0gZWRpdFN0YXRlLnJlYWR5ICYmICFwcmV2aWV3VmFsdWVJc0xvYWRpbmcsIG5ld1RpdGxlID0gdXNlQ29uc3RydWN0RG9jdW1lbnRUaXRsZShkb2N1bWVudFRpdGxlKTtcbiAgbGV0IHQwO1xuICAkWzBdICE9PSBuZXdUaXRsZSB8fCAkWzFdICE9PSBzZXR0bGVkID8gKHQwID0gKCkgPT4ge1xuICAgIHNldHRsZWQgJiYgKGRvY3VtZW50LnRpdGxlID0gbmV3VGl0bGUpO1xuICB9LCAkWzBdID0gbmV3VGl0bGUsICRbMV0gPSBzZXR0bGVkLCAkWzJdID0gdDApIDogdDAgPSAkWzJdO1xuICBsZXQgdDE7XG4gIHJldHVybiAkWzNdICE9PSBkb2N1bWVudFRpdGxlIHx8ICRbNF0gIT09IG5ld1RpdGxlIHx8ICRbNV0gIT09IHNldHRsZWQgPyAodDEgPSBbZG9jdW1lbnRUaXRsZSwgc2V0dGxlZCwgbmV3VGl0bGVdLCAkWzNdID0gZG9jdW1lbnRUaXRsZSwgJFs0XSA9IG5ld1RpdGxlLCAkWzVdID0gc2V0dGxlZCwgJFs2XSA9IHQxKSA6IHQxID0gJFs2XSwgdXNlRWZmZWN0KHQwLCB0MSksIG51bGw7XG59LCBQYXNzdGhyb3VnaFRpdGxlID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0ICQgPSBjKDUpLCB7XG4gICAgdGl0bGVcbiAgfSA9IHByb3BzLCBuZXdUaXRsZSA9IHVzZUNvbnN0cnVjdERvY3VtZW50VGl0bGUodGl0bGUpO1xuICBsZXQgdDA7XG4gICRbMF0gIT09IG5ld1RpdGxlID8gKHQwID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LnRpdGxlID0gbmV3VGl0bGU7XG4gIH0sICRbMF0gPSBuZXdUaXRsZSwgJFsxXSA9IHQwKSA6IHQwID0gJFsxXTtcbiAgbGV0IHQxO1xuICByZXR1cm4gJFsyXSAhPT0gbmV3VGl0bGUgfHwgJFszXSAhPT0gdGl0bGUgPyAodDEgPSBbbmV3VGl0bGUsIHRpdGxlXSwgJFsyXSA9IG5ld1RpdGxlLCAkWzNdID0gdGl0bGUsICRbNF0gPSB0MSkgOiB0MSA9ICRbNF0sIHVzZUVmZmVjdCh0MCwgdDEpLCBudWxsO1xufSwgU3RydWN0dXJlVGl0bGUgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgJCA9IGMoOCksIHtcbiAgICByZXNvbHZlZFBhbmVzXG4gIH0gPSBwcm9wcztcbiAgaWYgKCFyZXNvbHZlZFBhbmVzPy5sZW5ndGgpXG4gICAgcmV0dXJuIG51bGw7XG4gIGNvbnN0IGxhc3RQYW5lID0gcmVzb2x2ZWRQYW5lc1tyZXNvbHZlZFBhbmVzLmxlbmd0aCAtIDFdO1xuICBpZiAoaXNMb2FkaW5nUGFuZShsYXN0UGFuZSkpIHtcbiAgICBsZXQgdDAyO1xuICAgIHJldHVybiAkWzBdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSA/ICh0MDIgPSAvKiBAX19QVVJFX18gKi8ganN4KFBhc3N0aHJvdWdoVGl0bGUsIHt9KSwgJFswXSA9IHQwMikgOiB0MDIgPSAkWzBdLCB0MDI7XG4gIH1cbiAgaWYgKGlzRG9jdW1lbnRQYW5lKGxhc3RQYW5lKSkge1xuICAgIGlmIChsYXN0UGFuZT8udGl0bGUpIHtcbiAgICAgIGxldCB0MDM7XG4gICAgICByZXR1cm4gJFsxXSAhPT0gbGFzdFBhbmUudGl0bGUgPyAodDAzID0gLyogQF9fUFVSRV9fICovIGpzeChQYXNzdGhyb3VnaFRpdGxlLCB7IHRpdGxlOiBsYXN0UGFuZS50aXRsZSB9KSwgJFsxXSA9IGxhc3RQYW5lLnRpdGxlLCAkWzJdID0gdDAzKSA6IHQwMyA9ICRbMl0sIHQwMztcbiAgICB9XG4gICAgbGV0IHQwMjtcbiAgICByZXR1cm4gJFszXSAhPT0gbGFzdFBhbmUub3B0aW9ucy5pZCB8fCAkWzRdICE9PSBsYXN0UGFuZS5vcHRpb25zLnR5cGUgPyAodDAyID0gLyogQF9fUFVSRV9fICovIGpzeChEb2N1bWVudFRpdGxlLCB7IGRvY3VtZW50SWQ6IGxhc3RQYW5lLm9wdGlvbnMuaWQsIGRvY3VtZW50VHlwZTogbGFzdFBhbmUub3B0aW9ucy50eXBlIH0pLCAkWzNdID0gbGFzdFBhbmUub3B0aW9ucy5pZCwgJFs0XSA9IGxhc3RQYW5lLm9wdGlvbnMudHlwZSwgJFs1XSA9IHQwMikgOiB0MDIgPSAkWzVdLCB0MDI7XG4gIH1cbiAgY29uc3QgdDAgPSBsYXN0UGFuZT8udGl0bGU7XG4gIGxldCB0MTtcbiAgcmV0dXJuICRbNl0gIT09IHQwID8gKHQxID0gLyogQF9fUFVSRV9fICovIGpzeChQYXNzdGhyb3VnaFRpdGxlLCB7IHRpdGxlOiB0MCB9KSwgJFs2XSA9IHQwLCAkWzddID0gdDEpIDogdDEgPSAkWzddLCB0MTtcbn07XG5mdW5jdGlvbiB1c2VDb25zdHJ1Y3REb2N1bWVudFRpdGxlKGFjdGl2ZVRpdGxlKSB7XG4gIGNvbnN0ICQgPSBjKDMpLCBzdHJ1Y3R1cmVUb29sQmFzZVRpdGxlID0gdXNlU3RydWN0dXJlVG9vbCgpLnN0cnVjdHVyZUNvbnRleHQudGl0bGU7XG4gIGxldCB0MDtcbiAgcmV0dXJuICRbMF0gIT09IGFjdGl2ZVRpdGxlIHx8ICRbMV0gIT09IHN0cnVjdHVyZVRvb2xCYXNlVGl0bGUgPyAodDAgPSBbYWN0aXZlVGl0bGUsIHN0cnVjdHVyZVRvb2xCYXNlVGl0bGVdLmZpbHRlcihfdGVtcCQyKSwgJFswXSA9IGFjdGl2ZVRpdGxlLCAkWzFdID0gc3RydWN0dXJlVG9vbEJhc2VUaXRsZSwgJFsyXSA9IHQwKSA6IHQwID0gJFsyXSwgdDAuam9pbihcIiB8IFwiKTtcbn1cbmZ1bmN0aW9uIF90ZW1wJDIodGl0bGUpIHtcbiAgcmV0dXJuIHRpdGxlO1xufVxuZnVuY3Rpb24gaXNEb2N1bWVudFBhbmUocGFuZSkge1xuICByZXR1cm4gcGFuZSAhPT0gTE9BRElOR19QQU5FICYmIHBhbmUudHlwZSA9PT0gXCJkb2N1bWVudFwiO1xufVxuZnVuY3Rpb24gaXNMb2FkaW5nUGFuZShwYW5lKSB7XG4gIHJldHVybiBwYW5lID09PSBMT0FESU5HX1BBTkU7XG59XG5jb25zdCBTdHlsZWRQYW5lTGF5b3V0ID0gc3R5bGVkKFBhbmVMYXlvdXQpYFxuICBtaW4taGVpZ2h0OiAxMDAlO1xuICBtaW4td2lkdGg6IDMyMHB4O1xuYCwgaXNTYXZlSG90a2V5ID0gaXNIb3RrZXkoXCJtb2Qrc1wiKSwgU3RydWN0dXJlVG9vbCA9IG1lbW8oZnVuY3Rpb24odDApIHtcbiAgY29uc3QgJCA9IGMoMzEpLCB7XG4gICAgb25QYW5lQ2hhbmdlXG4gIH0gPSB0MCwge1xuICAgIHB1c2g6IHB1c2hUb2FzdFxuICB9ID0gdXNlVG9hc3QoKSwgc2NoZW1hID0gdXNlU2NoZW1hKCksIHtcbiAgICBsYXlvdXRDb2xsYXBzZWQsXG4gICAgc2V0TGF5b3V0Q29sbGFwc2VkXG4gIH0gPSB1c2VTdHJ1Y3R1cmVUb29sKCksIHtcbiAgICBwYW5lRGF0YUl0ZW1zLFxuICAgIHJlc29sdmVkUGFuZXNcbiAgfSA9IHVzZVJlc29sdmVkUGFuZXMoKSwgaXNSZXNvbHZpbmdJbnRlbnQgPSB1c2VSb3V0ZXJTdGF0ZShfdGVtcCQxKSwge1xuICAgIHNhbml0eTogdDFcbiAgfSA9IHVzZVRoZW1lKCksIHtcbiAgICBtZWRpYVxuICB9ID0gdDEsIFtwb3J0YWxFbGVtZW50LCBzZXRQb3J0YWxFbGVtZW50XSA9IHVzZVN0YXRlKG51bGwpO1xuICBsZXQgdDI7XG4gICRbMF0gIT09IHNldExheW91dENvbGxhcHNlZCA/ICh0MiA9ICgpID0+IHNldExheW91dENvbGxhcHNlZCghMCksICRbMF0gPSBzZXRMYXlvdXRDb2xsYXBzZWQsICRbMV0gPSB0MikgOiB0MiA9ICRbMV07XG4gIGNvbnN0IGhhbmRsZVJvb3RDb2xsYXBzZSA9IHQyO1xuICBsZXQgdDM7XG4gICRbMl0gIT09IHNldExheW91dENvbGxhcHNlZCA/ICh0MyA9ICgpID0+IHNldExheW91dENvbGxhcHNlZCghMSksICRbMl0gPSBzZXRMYXlvdXRDb2xsYXBzZWQsICRbM10gPSB0MykgOiB0MyA9ICRbM107XG4gIGNvbnN0IGhhbmRsZVJvb3RFeHBhbmQgPSB0MztcbiAgbGV0IHQ0LCB0NTtcbiAgJFs0XSAhPT0gb25QYW5lQ2hhbmdlIHx8ICRbNV0gIT09IHJlc29sdmVkUGFuZXMgPyAodDQgPSAoKSA9PiB7XG4gICAgcmVzb2x2ZWRQYW5lcy5sZW5ndGggJiYgb25QYW5lQ2hhbmdlKHJlc29sdmVkUGFuZXMpO1xuICB9LCB0NSA9IFtvblBhbmVDaGFuZ2UsIHJlc29sdmVkUGFuZXNdLCAkWzRdID0gb25QYW5lQ2hhbmdlLCAkWzVdID0gcmVzb2x2ZWRQYW5lcywgJFs2XSA9IHQ0LCAkWzddID0gdDUpIDogKHQ0ID0gJFs2XSwgdDUgPSAkWzddKSwgdXNlRWZmZWN0KHQ0LCB0NSk7XG4gIGxldCB0NiwgdDc7XG4gIGlmICgkWzhdICE9PSBwdXNoVG9hc3QgPyAodDYgPSAoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlR2xvYmFsS2V5RG93biA9IChldmVudCkgPT4ge1xuICAgICAgaXNTYXZlSG90a2V5KGV2ZW50KSAmJiAoZXZlbnQucHJldmVudERlZmF1bHQoKSwgcHVzaFRvYXN0KHtcbiAgICAgICAgY2xvc2FibGU6ICEwLFxuICAgICAgICBpZDogXCJhdXRvLXNhdmUtbWVzc2FnZVwiLFxuICAgICAgICBzdGF0dXM6IFwiaW5mb1wiLFxuICAgICAgICB0aXRsZTogXCJZb3VyIHdvcmsgaXMgYXV0b21hdGljYWxseSBzYXZlZCFcIixcbiAgICAgICAgZHVyYXRpb246IDRlM1xuICAgICAgfSkpO1xuICAgIH07XG4gICAgcmV0dXJuIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBoYW5kbGVHbG9iYWxLZXlEb3duKSwgKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGhhbmRsZUdsb2JhbEtleURvd24pO1xuICB9LCB0NyA9IFtwdXNoVG9hc3RdLCAkWzhdID0gcHVzaFRvYXN0LCAkWzldID0gdDYsICRbMTBdID0gdDcpIDogKHQ2ID0gJFs5XSwgdDcgPSAkWzEwXSksIHVzZUVmZmVjdCh0NiwgdDcpLCAhc2NoZW1hLl9vcmlnaW5hbD8udHlwZXMuc29tZShfaXNDdXN0b21Eb2N1bWVudFR5cGVEZWZpbml0aW9uKSkge1xuICAgIGxldCB0ODI7XG4gICAgcmV0dXJuICRbMTFdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSA/ICh0ODIgPSAvKiBAX19QVVJFX18gKi8ganN4KE5vRG9jdW1lbnRUeXBlc1NjcmVlbiwge30pLCAkWzExXSA9IHQ4MikgOiB0ODIgPSAkWzExXSwgdDgyO1xuICB9XG4gIGNvbnN0IHQ4ID0gcG9ydGFsRWxlbWVudCB8fCBudWxsLCB0OSA9IGxheW91dENvbGxhcHNlZCA/IHZvaWQgMCA6IFwiZmlsbFwiLCB0MTAgPSBtZWRpYVsxXTtcbiAgbGV0IHQxMTtcbiAgJFsxMl0gIT09IHBhbmVEYXRhSXRlbXMgPyAodDExID0gcGFuZURhdGFJdGVtcy5tYXAoX3RlbXAyJDEpLCAkWzEyXSA9IHBhbmVEYXRhSXRlbXMsICRbMTNdID0gdDExKSA6IHQxMSA9ICRbMTNdO1xuICBsZXQgdDEyO1xuICAkWzE0XSAhPT0gaXNSZXNvbHZpbmdJbnRlbnQgfHwgJFsxNV0gIT09IHBhbmVEYXRhSXRlbXMubGVuZ3RoID8gKHQxMiA9IHBhbmVEYXRhSXRlbXMubGVuZ3RoIDw9IDEgJiYgaXNSZXNvbHZpbmdJbnRlbnQgJiYgLyogQF9fUFVSRV9fICovIGpzeChMb2FkaW5nUGFuZSwgeyBwYW5lS2V5OiBcImludGVudC1yZXNvbHZlclwiIH0pLCAkWzE0XSA9IGlzUmVzb2x2aW5nSW50ZW50LCAkWzE1XSA9IHBhbmVEYXRhSXRlbXMubGVuZ3RoLCAkWzE2XSA9IHQxMikgOiB0MTIgPSAkWzE2XTtcbiAgbGV0IHQxMztcbiAgJFsxN10gIT09IGhhbmRsZVJvb3RDb2xsYXBzZSB8fCAkWzE4XSAhPT0gaGFuZGxlUm9vdEV4cGFuZCB8fCAkWzE5XSAhPT0gbWVkaWFbMV0gfHwgJFsyMF0gIT09IHQxMSB8fCAkWzIxXSAhPT0gdDEyIHx8ICRbMjJdICE9PSB0OSA/ICh0MTMgPSAvKiBAX19QVVJFX18gKi8ganN4cyhTdHlsZWRQYW5lTGF5b3V0LCB7IGZsZXg6IDEsIGhlaWdodDogdDksIG1pbldpZHRoOiB0MTAsIG9uQ29sbGFwc2U6IGhhbmRsZVJvb3RDb2xsYXBzZSwgb25FeHBhbmQ6IGhhbmRsZVJvb3RFeHBhbmQsIGNoaWxkcmVuOiBbXG4gICAgdDExLFxuICAgIHQxMlxuICBdIH0pLCAkWzE3XSA9IGhhbmRsZVJvb3RDb2xsYXBzZSwgJFsxOF0gPSBoYW5kbGVSb290RXhwYW5kLCAkWzE5XSA9IG1lZGlhWzFdLCAkWzIwXSA9IHQxMSwgJFsyMV0gPSB0MTIsICRbMjJdID0gdDksICRbMjNdID0gdDEzKSA6IHQxMyA9ICRbMjNdO1xuICBsZXQgdDE0O1xuICAkWzI0XSAhPT0gcmVzb2x2ZWRQYW5lcyA/ICh0MTQgPSAvKiBAX19QVVJFX18gKi8ganN4KFN0cnVjdHVyZVRpdGxlLCB7IHJlc29sdmVkUGFuZXMgfSksICRbMjRdID0gcmVzb2x2ZWRQYW5lcywgJFsyNV0gPSB0MTQpIDogdDE0ID0gJFsyNV07XG4gIGxldCB0MTU7XG4gICRbMjZdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSA/ICh0MTUgPSAvKiBAX19QVVJFX18gKi8ganN4KFwiZGl2XCIsIHsgXCJkYXRhLXBvcnRhbFwiOiBcIlwiLCByZWY6IHNldFBvcnRhbEVsZW1lbnQgfSksICRbMjZdID0gdDE1KSA6IHQxNSA9ICRbMjZdO1xuICBsZXQgdDE2O1xuICByZXR1cm4gJFsyN10gIT09IHQxMyB8fCAkWzI4XSAhPT0gdDE0IHx8ICRbMjldICE9PSB0OCA/ICh0MTYgPSAvKiBAX19QVVJFX18gKi8ganN4cyhQb3J0YWxQcm92aWRlciwgeyBlbGVtZW50OiB0OCwgY2hpbGRyZW46IFtcbiAgICB0MTMsXG4gICAgdDE0LFxuICAgIHQxNVxuICBdIH0pLCAkWzI3XSA9IHQxMywgJFsyOF0gPSB0MTQsICRbMjldID0gdDgsICRbMzBdID0gdDE2KSA6IHQxNiA9ICRbMzBdLCB0MTY7XG59KTtcbmZ1bmN0aW9uIF90ZW1wJDEocm91dGVyU3RhdGUpIHtcbiAgcmV0dXJuIHR5cGVvZiByb3V0ZXJTdGF0ZS5pbnRlbnQgPT0gXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIF90ZW1wMiQxKHQwKSB7XG4gIGNvbnN0IHtcbiAgICBhY3RpdmUsXG4gICAgY2hpbGRJdGVtSWQsXG4gICAgZ3JvdXBJbmRleCxcbiAgICBpdGVtSWQsXG4gICAga2V5OiBwYW5lS2V5LFxuICAgIHBhbmUsXG4gICAgaW5kZXg6IHBhbmVJbmRleCxcbiAgICBwYXJhbXM6IHBhbmVQYXJhbXMsXG4gICAgcGF0aCxcbiAgICBwYXlsb2FkLFxuICAgIHNpYmxpbmdJbmRleCxcbiAgICBzZWxlY3RlZFxuICB9ID0gdDA7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8ganN4KEZyYWdtZW50LCB7IGNoaWxkcmVuOiBwYW5lID09PSBMT0FESU5HX1BBTkUgPyAvKiBAX19QVVJFX18gKi8ganN4KExvYWRpbmdQYW5lLCB7IHBhbmVLZXksIHBhdGgsIHNlbGVjdGVkIH0pIDogLyogQF9fUFVSRV9fICovIGpzeChTdHJ1Y3R1cmVUb29sUGFuZSwgeyBhY3RpdmUsIGdyb3VwSW5kZXgsIGluZGV4OiBwYW5lSW5kZXgsIHBhbmUsIGNoaWxkSXRlbUlkLCBpdGVtSWQsIHBhbmVLZXksIHBhcmFtczogcGFuZVBhcmFtcywgcGF5bG9hZCwgcGF0aCwgc2VsZWN0ZWQsIHNpYmxpbmdJbmRleCB9KSB9LCBgJHtwYW5lID09PSBMT0FESU5HX1BBTkUgPyBcImxvYWRpbmdcIiA6IHBhbmUudHlwZX0tJHtwYW5lSW5kZXh9YCk7XG59XG5mdW5jdGlvbiBTdHJ1Y3R1cmVUb29sQm91bmRhcnkodDApIHtcbiAgY29uc3QgJCA9IGMoMTQpLCB7XG4gICAgdG9vbDogdDFcbiAgfSA9IHQwLCB7XG4gICAgb3B0aW9uc1xuICB9ID0gdDEsIHtcbiAgICB1bnN0YWJsZV9zb3VyY2VzOiBzb3VyY2VzXG4gIH0gPSB1c2VXb3Jrc3BhY2UoKSwgW2ZpcnN0U291cmNlXSA9IHNvdXJjZXM7XG4gIGxldCB0MjtcbiAgJFswXSAhPT0gb3B0aW9ucyA/ICh0MiA9IG9wdGlvbnMgfHwge30sICRbMF0gPSBvcHRpb25zLCAkWzFdID0gdDIpIDogdDIgPSAkWzFdO1xuICBjb25zdCB7XG4gICAgc291cmNlLFxuICAgIGRlZmF1bHREb2N1bWVudE5vZGUsXG4gICAgc3RydWN0dXJlXG4gIH0gPSB0MjtcbiAgbGV0IHQzO1xuICAkWzJdID09PSBTeW1ib2wuZm9yKFwicmVhY3QubWVtb19jYWNoZV9zZW50aW5lbFwiKSA/ICh0MyA9IFtdLCAkWzJdID0gdDMpIDogdDMgPSAkWzJdLCB1c2VFZmZlY3QoX3RlbXAyLCB0Myk7XG4gIGxldCB0NDtcbiAgJFszXSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikgPyAodDQgPSB7XG4gICAgZXJyb3I6IG51bGxcbiAgfSwgJFszXSA9IHQ0KSA6IHQ0ID0gJFszXTtcbiAgY29uc3QgW3Q1LCBzZXRFcnJvcl0gPSB1c2VTdGF0ZSh0NCksIHtcbiAgICBlcnJvclxuICB9ID0gdDU7XG4gIGlmIChlcnJvcikge1xuICAgIGxldCB0NjI7XG4gICAgcmV0dXJuICRbNF0gIT09IGVycm9yID8gKHQ2MiA9IC8qIEBfX1BVUkVfXyAqLyBqc3goU3RydWN0dXJlRXJyb3IsIHsgZXJyb3IgfSksICRbNF0gPSBlcnJvciwgJFs1XSA9IHQ2MikgOiB0NjIgPSAkWzVdLCB0NjI7XG4gIH1cbiAgY29uc3QgdDYgPSBzb3VyY2UgfHwgZmlyc3RTb3VyY2UubmFtZTtcbiAgbGV0IHQ3LCB0ODtcbiAgJFs2XSA9PT0gU3ltYm9sLmZvcihcInJlYWN0Lm1lbW9fY2FjaGVfc2VudGluZWxcIikgPyAodDcgPSAvKiBAX19QVVJFX18gKi8ganN4KFN0cnVjdHVyZVRvb2wsIHsgb25QYW5lQ2hhbmdlOiBzZXRBY3RpdmVQYW5lcyB9KSwgdDggPSAvKiBAX19QVVJFX18gKi8ganN4KEludGVudFJlc29sdmVyLCB7fSksICRbNl0gPSB0NywgJFs3XSA9IHQ4KSA6ICh0NyA9ICRbNl0sIHQ4ID0gJFs3XSk7XG4gIGxldCB0OTtcbiAgJFs4XSAhPT0gZGVmYXVsdERvY3VtZW50Tm9kZSB8fCAkWzldICE9PSBzdHJ1Y3R1cmUgPyAodDkgPSAvKiBAX19QVVJFX18gKi8ganN4cyhTdHJ1Y3R1cmVUb29sUHJvdmlkZXIsIHsgZGVmYXVsdERvY3VtZW50Tm9kZSwgc3RydWN0dXJlLCBjaGlsZHJlbjogW1xuICAgIHQ3LFxuICAgIHQ4XG4gIF0gfSksICRbOF0gPSBkZWZhdWx0RG9jdW1lbnROb2RlLCAkWzldID0gc3RydWN0dXJlLCAkWzEwXSA9IHQ5KSA6IHQ5ID0gJFsxMF07XG4gIGxldCB0MTA7XG4gIHJldHVybiAkWzExXSAhPT0gdDYgfHwgJFsxMl0gIT09IHQ5ID8gKHQxMCA9IC8qIEBfX1BVUkVfXyAqLyBqc3goRXJyb3JCb3VuZGFyeSwgeyBvbkNhdGNoOiBzZXRFcnJvciwgY2hpbGRyZW46IC8qIEBfX1BVUkVfXyAqLyBqc3goU291cmNlUHJvdmlkZXIsIHsgbmFtZTogdDYsIGNoaWxkcmVuOiB0OSB9KSB9KSwgJFsxMV0gPSB0NiwgJFsxMl0gPSB0OSwgJFsxM10gPSB0MTApIDogdDEwID0gJFsxM10sIHQxMDtcbn1cbmZ1bmN0aW9uIF90ZW1wMigpIHtcbiAgcmV0dXJuIHNldEFjdGl2ZVBhbmVzKFtdKSwgX3RlbXA7XG59XG5mdW5jdGlvbiBfdGVtcCgpIHtcbiAgcmV0dXJuIHNldEFjdGl2ZVBhbmVzKFtdKTtcbn1cbmV4cG9ydCB7XG4gIFN0cnVjdHVyZVRvb2xCb3VuZGFyeSBhcyBkZWZhdWx0XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgzLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/sanity/lib/_chunks-es/index3.mjs\n"));

/***/ })

}]);